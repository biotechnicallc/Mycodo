### Mycodo installation initiated Mon 25 Oct 09:35:42 BST 2021
#### Mycodo installation began Mon 25 Oct 09:38:00 BST 2021

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap currently set to 100 MB. Changing to 512 MB and restarting
Stopping dphys-swapfile (via systemctl): dphys-swapfile.service.
Starting dphys-swapfile (via systemctl): dphys-swapfile.service.

#### Updating apt repositories
Hit:1 http://archive.raspberrypi.org/debian buster InRelease
Hit:2 http://raspbian.raspberrypi.org/raspbian buster InRelease
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-colorzero python-configparser python-dbus python-entrypoints
  python-keyring python-keyrings.alt python-secretstorage python-wheel
  python-xdg
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  python-pip*
0 upgraded, 0 newly installed, 1 to remove and 0 not upgraded.
After this operation, 808 kB disk space will be freed.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 98895 files and directories currently installed.)
Removing python-pip (18.1-5+rpt1) ...
Processing triggers for man-db (2.8.5-2) ...

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  python-cffi-backend python-cryptography python-keyring python-oauthlib
  python-openssl python-requests-oauthlib python-secretstorage python-twython
  python3-cffi-backend python3-cryptography python3-keyring python3-oauthlib
  python3-openssl python3-requests-oauthlib python3-secretstorage
  python3-twython
0 upgraded, 0 newly installed, 16 to remove and 0 not upgraded.
After this operation, 5,156 kB disk space will be freed.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 98742 files and directories currently installed.)
Removing python-keyring (17.1.1-1) ...
Removing python-secretstorage (2.3.1-2) ...
Removing python-openssl (19.0.0-1) ...
Removing python-twython (3.7.0-1) ...
Removing python-requests-oauthlib (1.0.0-0.1) ...
Removing python-oauthlib (2.1.0-1) ...
Removing python3-keyring (17.1.1-1) ...
Removing python3-secretstorage (2.3.1-2) ...
Removing python3-openssl (19.0.0-1) ...
Removing python3-twython (3.7.0-1) ...
Removing python3-requests-oauthlib (1.0.0-0.1) ...
Removing python3-oauthlib (2.1.0-1) ...
Removing python-cryptography (2.6.1-3+deb10u2) ...
Removing python-cffi-backend (1.12.2-1) ...
Removing python3-cryptography (2.6.1-3+deb10u2) ...
Removing python3-cffi-backend (1.12.2-1) ...
Processing triggers for man-db (2.8.5-2) ...
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
g++ set to manually installed.
gcc is already the newest version (4:8.3.0-1+rpi2).
gcc set to manually installed.
git is already the newest version (1:2.20.1-2+deb10u3).
logrotate is already the newest version (3.14.0-4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-dev set to manually installed.
python3-setuptools is already the newest version (40.8.0-1).
python3-setuptools set to manually installed.
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
wget is already the newest version (1.20.1-1.1).
wget set to manually installed.
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  libio-pty-perl libipc-run-perl libnginx-mod-http-auth-pam
  libnginx-mod-http-dav-ext libnginx-mod-http-echo libnginx-mod-http-geoip
  libnginx-mod-http-image-filter libnginx-mod-http-subs-filter
  libnginx-mod-http-upstream-fair libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libsigsegv2 nginx-common nginx-full
  python3-pylint-plugin-utils
Suggested packages:
  gawk-doc libtime-duration-perl libtimedate-perl fcgiwrap nginx-doc
  sqlite3-doc
The following NEW packages will be installed:
  gawk libffi-dev libi2c-dev libio-pty-perl libipc-run-perl
  libnginx-mod-http-auth-pam libnginx-mod-http-dav-ext libnginx-mod-http-echo
  libnginx-mod-http-geoip libnginx-mod-http-image-filter
  libnginx-mod-http-subs-filter libnginx-mod-http-upstream-fair
  libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream
  libsigsegv2 moreutils nginx nginx-common nginx-full python3-pylint-common
  python3-pylint-plugin-utils sqlite3
0 upgraded, 23 newly installed, 0 to remove and 0 not upgraded.
Need to get 3,523 kB of archives.
After this operation, 8,457 kB of additional disk space will be used.
Get:1 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libsigsegv2 armhf 2.12-2 [32.3 kB]
Get:2 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf gawk armhf 1:4.2.1+dfsg-1 [590 kB]
Get:3 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libffi-dev armhf 3.2.1-9 [159 kB]
Get:4 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libi2c-dev armhf 4.1-1 [11.9 kB]
Get:5 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libio-pty-perl armhf 1:1.08-1.1+b4 [33.0 kB]
Get:6 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libipc-run-perl all 20180523.0-1 [101 kB]
Get:7 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf nginx-common all 1.14.2-2+deb10u4 [121 kB]
Get:8 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-auth-pam armhf 1.14.2-2+deb10u4 [92.2 kB]
Get:9 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-dav-ext armhf 1.14.2-2+deb10u4 [98.9 kB]
Get:10 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-echo armhf 1.14.2-2+deb10u4 [102 kB]
Get:11 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-geoip armhf 1.14.2-2+deb10u4 [93.3 kB]
Get:12 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-image-filter armhf 1.14.2-2+deb10u4 [96.5 kB]
Get:13 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-subs-filter armhf 1.14.2-2+deb10u4 [95.2 kB]
Get:14 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-upstream-fair armhf 1.14.2-2+deb10u4 [95.4 kB]
Get:15 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-xslt-filter armhf 1.14.2-2+deb10u4 [94.9 kB]
Get:16 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-mail armhf 1.14.2-2+deb10u4 [120 kB]
Get:17 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-stream armhf 1.14.2-2+deb10u4 [138 kB]
Get:18 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf moreutils armhf 0.62-1+b1 [69.3 kB]
Get:19 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf nginx-full armhf 1.14.2-2+deb10u4 [441 kB]
Get:20 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf nginx all 1.14.2-2+deb10u4 [88.5 kB]
Get:21 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf python3-pylint-plugin-utils all 0.4-1 [5,640 B]
Get:22 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf python3-pylint-common all 0.2.5-2 [4,576 B]
Get:23 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf sqlite3 armhf 3.27.2-3+deb10u1 [839 kB]
Preconfiguring packages ...
Fetched 3,523 kB in 14s (245 kB/s)
Selecting previously unselected package libsigsegv2:armhf.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 98126 files and directories currently installed.)
Preparing to unpack .../libsigsegv2_2.12-2_armhf.deb ...
Unpacking libsigsegv2:armhf (2.12-2) ...
Setting up libsigsegv2:armhf (2.12-2) ...
Selecting previously unselected package gawk.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 98135 files and directories currently installed.)
Preparing to unpack .../00-gawk_1%3a4.2.1+dfsg-1_armhf.deb ...
Unpacking gawk (1:4.2.1+dfsg-1) ...
Selecting previously unselected package libffi-dev:armhf.
Preparing to unpack .../01-libffi-dev_3.2.1-9_armhf.deb ...
Unpacking libffi-dev:armhf (3.2.1-9) ...
Selecting previously unselected package libi2c-dev.
Preparing to unpack .../02-libi2c-dev_4.1-1_armhf.deb ...
Unpacking libi2c-dev (4.1-1) ...
Selecting previously unselected package libio-pty-perl.
Preparing to unpack .../03-libio-pty-perl_1%3a1.08-1.1+b4_armhf.deb ...
Unpacking libio-pty-perl (1:1.08-1.1+b4) ...
Selecting previously unselected package libipc-run-perl.
Preparing to unpack .../04-libipc-run-perl_20180523.0-1_all.deb ...
Unpacking libipc-run-perl (20180523.0-1) ...
Selecting previously unselected package nginx-common.
Preparing to unpack .../05-nginx-common_1.14.2-2+deb10u4_all.deb ...
Unpacking nginx-common (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-auth-pam.
Preparing to unpack .../06-libnginx-mod-http-auth-pam_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-auth-pam (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-dav-ext.
Preparing to unpack .../07-libnginx-mod-http-dav-ext_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-dav-ext (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-echo.
Preparing to unpack .../08-libnginx-mod-http-echo_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-echo (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-geoip.
Preparing to unpack .../09-libnginx-mod-http-geoip_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-geoip (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-image-filter.
Preparing to unpack .../10-libnginx-mod-http-image-filter_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-image-filter (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-subs-filter.
Preparing to unpack .../11-libnginx-mod-http-subs-filter_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-subs-filter (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-upstream-fair.
Preparing to unpack .../12-libnginx-mod-http-upstream-fair_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-upstream-fair (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-xslt-filter.
Preparing to unpack .../13-libnginx-mod-http-xslt-filter_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-xslt-filter (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-mail.
Preparing to unpack .../14-libnginx-mod-mail_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-mail (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-stream.
Preparing to unpack .../15-libnginx-mod-stream_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-stream (1.14.2-2+deb10u4) ...
Selecting previously unselected package moreutils.
Preparing to unpack .../16-moreutils_0.62-1+b1_armhf.deb ...
Unpacking moreutils (0.62-1+b1) ...
Selecting previously unselected package nginx-full.
Preparing to unpack .../17-nginx-full_1.14.2-2+deb10u4_armhf.deb ...
Unpacking nginx-full (1.14.2-2+deb10u4) ...
Selecting previously unselected package nginx.
Preparing to unpack .../18-nginx_1.14.2-2+deb10u4_all.deb ...
Unpacking nginx (1.14.2-2+deb10u4) ...
Selecting previously unselected package python3-pylint-plugin-utils.
Preparing to unpack .../19-python3-pylint-plugin-utils_0.4-1_all.deb ...
Unpacking python3-pylint-plugin-utils (0.4-1) ...
Selecting previously unselected package python3-pylint-common.
Preparing to unpack .../20-python3-pylint-common_0.2.5-2_all.deb ...
Unpacking python3-pylint-common (0.2.5-2) ...
Selecting previously unselected package sqlite3.
Preparing to unpack .../21-sqlite3_3.27.2-3+deb10u1_armhf.deb ...
Unpacking sqlite3 (3.27.2-3+deb10u1) ...
Setting up libio-pty-perl (1:1.08-1.1+b4) ...
Setting up gawk (1:4.2.1+dfsg-1) ...
Setting up nginx-common (1.14.2-2+deb10u4) ...
Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.
Setting up libffi-dev:armhf (3.2.1-9) ...
Setting up libi2c-dev (4.1-1) ...
Setting up libnginx-mod-http-xslt-filter (1.14.2-2+deb10u4) ...
Setting up libnginx-mod-http-auth-pam (1.14.2-2+deb10u4) ...
Setting up libnginx-mod-http-geoip (1.14.2-2+deb10u4) ...
Setting up libipc-run-perl (20180523.0-1) ...
Setting up libnginx-mod-http-echo (1.14.2-2+deb10u4) ...
Setting up libnginx-mod-http-subs-filter (1.14.2-2+deb10u4) ...
Setting up python3-pylint-plugin-utils (0.4-1) ...
Setting up python3-pylint-common (0.2.5-2) ...
Setting up sqlite3 (3.27.2-3+deb10u1) ...
Setting up libnginx-mod-http-dav-ext (1.14.2-2+deb10u4) ...
Setting up libnginx-mod-mail (1.14.2-2+deb10u4) ...
Setting up moreutils (0.62-1+b1) ...
Setting up libnginx-mod-http-image-filter (1.14.2-2+deb10u4) ...
Setting up libnginx-mod-stream (1.14.2-2+deb10u4) ...
Setting up libnginx-mod-http-upstream-fair (1.14.2-2+deb10u4) ...
Setting up nginx-full (1.14.2-2+deb10u4) ...
Setting up nginx (1.14.2-2+deb10u4) ...
Processing triggers for systemd (241-7~deb10u8+rpi1) ...
Processing triggers for man-db (2.8.5-2) ...
Processing triggers for install-info (6.5.0.dfsg.1-4+b1) ...
Processing triggers for libc-bin (2.28-10+rpt2+rpi1) ...
Searching for pip
Best match: pip 18.1
Adding pip 18.1 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.7 script to /usr/local/bin

Using /usr/lib/python3/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting pip
  Downloading https://files.pythonhosted.org/packages/a4/6d/6463d49a933f547439d6b5b98b46af8742cc03ae83543e4d7688c2420f8b/pip-21.3.1-py3-none-any.whl (1.7MB)
Installing collected packages: pip
  Found existing installation: pip 18.1
    Not uninstalling pip at /usr/lib/python3/dist-packages, outside environment /usr
    Can't uninstall 'pip'. No files were found to uninstall.
Successfully installed pip-21.3.1

#### Checking python 3 virtualenv
#### Virtualenv doesn't exist. Creating...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting virtualenv==20.7.0
  Downloading https://www.piwheels.org/simple/virtualenv/virtualenv-20.7.0-py2.py3-none-any.whl (5.3 MB)
Requirement already satisfied: six<2,>=1.9.0 in /usr/lib/python3/dist-packages (from virtualenv==20.7.0) (1.12.0)
Collecting importlib-metadata>=0.12
  Downloading https://www.piwheels.org/simple/importlib-metadata/importlib_metadata-4.8.1-py3-none-any.whl (17 kB)
Collecting platformdirs<3,>=2
  Downloading https://www.piwheels.org/simple/platformdirs/platformdirs-2.4.0-py3-none-any.whl (14 kB)
Collecting backports.entry-points-selectable>=1.0.4
  Downloading https://www.piwheels.org/simple/backports-entry-points-selectable/backports.entry_points_selectable-1.1.0-py2.py3-none-any.whl (6.2 kB)
Collecting filelock<4,>=3.0.0
  Downloading https://www.piwheels.org/simple/filelock/filelock-3.3.1-py3-none-any.whl (9.7 kB)
Collecting distlib<1,>=0.3.1
  Downloading https://www.piwheels.org/simple/distlib/distlib-0.3.3-py3-none-any.whl (497 kB)
Collecting typing-extensions>=3.6.4
  Downloading https://www.piwheels.org/simple/typing-extensions/typing_extensions-3.10.0.2-py3-none-any.whl (27 kB)
Collecting zipp>=0.5
  Downloading https://www.piwheels.org/simple/zipp/zipp-3.6.0-py3-none-any.whl (5.3 kB)
Installing collected packages: zipp, typing-extensions, importlib-metadata, platformdirs, filelock, distlib, backports.entry-points-selectable, virtualenv
Successfully installed backports.entry-points-selectable-1.1.0 distlib-0.3.3 filelock-3.3.1 importlib-metadata-4.8.1 platformdirs-2.4.0 typing-extensions-3.10.0.2 virtualenv-20.7.0 zipp-3.6.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
created virtual environment CPython3.7.3.final.0-32 in 3279ms
  creator CPython3Posix(dest=/home/pi/Mycodo/env, clear=False, no_vcs_ignore=False, global=True)
  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/root/.local/share/virtualenv)
    added seed packages: pip==21.2.2, setuptools==57.4.0, wheel==0.36.2
  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.2.2)
Collecting pip
  Downloading https://www.piwheels.org/simple/pip/pip-21.3.1-py3-none-any.whl (1.7 MB)
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 21.2.2
    Uninstalling pip-21.2.2:
      Successfully uninstalled pip-21.2.2
Successfully installed pip-21.3.1

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.3.1)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (57.4.0)
Collecting setuptools
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-58.3.0-py3-none-any.whl (946 kB)
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 57.4.0
    Uninstalling setuptools-57.4.0:
      Successfully uninstalled setuptools-57.4.0
Successfully installed setuptools-58.3.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting alembic==1.5.8
  Downloading https://www.piwheels.org/simple/alembic/alembic-1.5.8-py2.py3-none-any.whl (159 kB)
Collecting argparse==1.4.0
  Downloading https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Collecting bcrypt==3.2.0
  Downloading https://www.piwheels.org/simple/bcrypt/bcrypt-3.2.0-cp37-cp37m-linux_armv7l.whl (57 kB)
Collecting daemonize==2.5.0
  Downloading https://www.piwheels.org/simple/daemonize/daemonize-2.5.0-py2.py3-none-any.whl (5.2 kB)
Collecting distro==1.5.0
  Downloading https://www.piwheels.org/simple/distro/distro-1.5.0-py2.py3-none-any.whl (18 kB)
Collecting email_validator==1.1.2
  Downloading https://www.piwheels.org/simple/email-validator/email_validator-1.1.2-py2.py3-none-any.whl (17 kB)
Collecting filelock==3.0.12
  Downloading https://www.piwheels.org/simple/filelock/filelock-3.0.12-py3-none-any.whl (7.6 kB)
Collecting Flask==1.1.2
  Downloading https://www.piwheels.org/simple/flask/Flask-1.1.2-py2.py3-none-any.whl (94 kB)
Collecting Flask_Accept==0.0.6
  Downloading https://www.piwheels.org/simple/flask-accept/flask_accept-0.0.6-py3-none-any.whl (3.8 kB)
Collecting Flask_Babel==2.0.0
  Downloading https://www.piwheels.org/simple/flask-babel/Flask_Babel-2.0.0-py3-none-any.whl (9.3 kB)
Collecting Flask_Compress==1.9.0
  Downloading https://www.piwheels.org/simple/flask-compress/Flask_Compress-1.9.0-py3-none-any.whl (9.6 kB)
Collecting Flask_Limiter==1.4
  Downloading https://www.piwheels.org/simple/flask-limiter/Flask_Limiter-1.4-py3-none-any.whl (15 kB)
Collecting Flask_Login==0.5.0
  Downloading https://www.piwheels.org/simple/flask-login/Flask_Login-0.5.0-py2.py3-none-any.whl (16 kB)
Collecting Flask_Marshmallow==0.14.0
  Downloading https://www.piwheels.org/simple/flask-marshmallow/flask_marshmallow-0.14.0-py2.py3-none-any.whl (10 kB)
Collecting Flask_RESTX==0.3.0
  Downloading https://www.piwheels.org/simple/flask-restx/flask_restx-0.3.0-py2.py3-none-any.whl (5.3 MB)
Collecting Flask_Session==0.4.0
  Downloading https://www.piwheels.org/simple/flask-session/Flask_Session-0.4.0-py2.py3-none-any.whl (7.5 kB)
Collecting Flask_SQLAlchemy==2.5.1
  Downloading https://www.piwheels.org/simple/flask-sqlalchemy/Flask_SQLAlchemy-2.5.1-py2.py3-none-any.whl (17 kB)
Collecting Flask_Talisman==0.7.0
  Downloading https://www.piwheels.org/simple/flask-talisman/flask_talisman-0.7.0-py2.py3-none-any.whl (12 kB)
Collecting Flask_WTF==0.14.3
  Downloading https://www.piwheels.org/simple/flask-wtf/Flask_WTF-0.14.3-py2.py3-none-any.whl (13 kB)
Collecting geocoder==1.38.1
  Downloading https://www.piwheels.org/simple/geocoder/geocoder-1.38.1-py2.py3-none-any.whl (98 kB)
Collecting gunicorn==20.1.0
  Downloading https://www.piwheels.org/simple/gunicorn/gunicorn-20.1.0-py3-none-any.whl (81 kB)
Collecting influxdb==5.3.1
  Downloading https://www.piwheels.org/simple/influxdb/influxdb-5.3.1-py2.py3-none-any.whl (77 kB)
Collecting marshmallow_sqlalchemy==0.24.2
  Downloading https://www.piwheels.org/simple/marshmallow-sqlalchemy/marshmallow_sqlalchemy-0.24.2-py2.py3-none-any.whl (18 kB)
Collecting pyro5==5.12
  Downloading https://www.piwheels.org/simple/pyro5/Pyro5-5.12-py3-none-any.whl (77 kB)
Collecting pyserial==3.5
  Downloading https://www.piwheels.org/simple/pyserial/pyserial-3.5-py2.py3-none-any.whl (90 kB)
Collecting python-dateutil==2.8.1
  Downloading https://www.piwheels.org/simple/python-dateutil/python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)
Collecting requests==2.25.1
  Downloading https://www.piwheels.org/simple/requests/requests-2.25.1-py2.py3-none-any.whl (61 kB)
Collecting setuptools==56.0.0
  Downloading https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
Collecting SQLAlchemy==1.4.7
  Downloading https://www.piwheels.org/simple/sqlalchemy/SQLAlchemy-1.4.7-cp37-cp37m-linux_armv7l.whl (1.5 MB)
Collecting Werkzeug==1.0.1
  Downloading https://www.piwheels.org/simple/werkzeug/Werkzeug-1.0.1-py2.py3-none-any.whl (298 kB)
Collecting WTForms==2.3.3
  Downloading https://www.piwheels.org/simple/wtforms/WTForms-2.3.3-py2.py3-none-any.whl (169 kB)
Collecting Mako
  Downloading https://www.piwheels.org/simple/mako/Mako-1.1.5-py2.py3-none-any.whl (76 kB)
Collecting python-editor>=0.3
  Downloading https://www.piwheels.org/simple/python-editor/python_editor-1.0.4-py3-none-any.whl (4.9 kB)
Collecting cffi>=1.1
  Downloading https://www.piwheels.org/simple/cffi/cffi-1.15.0-cp37-cp37m-linux_armv7l.whl (346 kB)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Collecting dnspython>=1.15.0
  Downloading https://www.piwheels.org/simple/dnspython/dnspython-2.1.0-py3-none-any.whl (241 kB)
Requirement already satisfied: click>=5.1 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (7.0)
Requirement already satisfied: itsdangerous>=0.24 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (0.24)
Collecting Jinja2>=2.10.1
  Downloading https://www.piwheels.org/simple/jinja2/Jinja2-3.0.2-py3-none-any.whl (133 kB)
Collecting Babel>=2.3
  Downloading https://www.piwheels.org/simple/babel/Babel-2.9.1-py2.py3-none-any.whl (8.8 MB)
Collecting pytz
  Downloading https://www.piwheels.org/simple/pytz/pytz-2021.3-py3-none-any.whl (511 kB)
Collecting brotli
  Downloading https://www.piwheels.org/simple/brotli/Brotli-1.0.9-cp37-cp37m-linux_armv7l.whl (2.5 MB)
Collecting limits
  Downloading https://www.piwheels.org/simple/limits/limits-1.5.1-py3-none-any.whl (16 kB)
Collecting marshmallow>=2.0.0
  Downloading https://www.piwheels.org/simple/marshmallow/marshmallow-3.14.0-py3-none-any.whl (47 kB)
Collecting jsonschema
  Downloading https://www.piwheels.org/simple/jsonschema/jsonschema-4.1.2-py3-none-any.whl (69 kB)
Collecting aniso8601>=0.82
  Downloading https://www.piwheels.org/simple/aniso8601/aniso8601-9.0.1-py2.py3-none-any.whl (52 kB)
Collecting cachelib
  Downloading https://www.piwheels.org/simple/cachelib/cachelib-0.4.1-py3-none-any.whl (14 kB)
Collecting future
  Downloading https://www.piwheels.org/simple/future/future-0.18.2-py3-none-any.whl (491 kB)
Collecting ratelim
  Downloading https://www.piwheels.org/simple/ratelim/ratelim-0.1.6-py2.py3-none-any.whl (4.0 kB)
Collecting msgpack
  Downloading https://www.piwheels.org/simple/msgpack/msgpack-1.0.2-cp37-cp37m-linux_armv7l.whl (267 kB)
Collecting serpent>=1.27
  Downloading https://www.piwheels.org/simple/serpent/serpent-1.40-py3-none-any.whl (9.6 kB)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.8.1)
Collecting greenlet!=0.4.17
  Downloading https://www.piwheels.org/simple/greenlet/greenlet-1.1.2-cp37-cp37m-linux_armv7l.whl (161 kB)
Requirement already satisfied: MarkupSafe in /usr/lib/python3/dist-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (1.1.0)
Collecting pycparser
  Downloading https://www.piwheels.org/simple/pycparser/pycparser-2.20-py2.py3-none-any.whl (112 kB)
Collecting MarkupSafe
  Downloading https://www.piwheels.org/simple/markupsafe/MarkupSafe-2.0.1-cp37-cp37m-linux_armv7l.whl (31 kB)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.10.0.2)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.6.0)
Collecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0
  Downloading https://www.piwheels.org/simple/pyrsistent/pyrsistent-0.18.0-cp37-cp37m-linux_armv7l.whl (100 kB)
Collecting attrs>=17.4.0
  Downloading https://www.piwheels.org/simple/attrs/attrs-21.2.0-py2.py3-none-any.whl (53 kB)
Collecting decorator
  Downloading https://www.piwheels.org/simple/decorator/decorator-5.1.0-py3-none-any.whl (10 kB)
Installing collected packages: MarkupSafe, Werkzeug, pytz, pyrsistent, pycparser, Jinja2, greenlet, decorator, attrs, WTForms, SQLAlchemy, setuptools, serpent, requests, ratelim, python-editor, python-dateutil, msgpack, marshmallow, Mako, limits, jsonschema, future, Flask, dnspython, cffi, cachelib, brotli, Babel, aniso8601, pyserial, pyro5, marshmallow-sqlalchemy, influxdb, gunicorn, geocoder, Flask-WTF, Flask-Talisman, Flask-SQLAlchemy, Flask-Session, Flask-RESTX, Flask-Marshmallow, Flask-Login, Flask-Limiter, Flask-Compress, Flask-Babel, Flask-Accept, filelock, email-validator, distro, daemonize, bcrypt, argparse, alembic
  Attempting uninstall: MarkupSafe
    Found existing installation: MarkupSafe 1.1.0
    Not uninstalling markupsafe at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'MarkupSafe'. No files were found to uninstall.
  Attempting uninstall: Werkzeug
    Found existing installation: Werkzeug 0.14.1
    Not uninstalling werkzeug at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'Werkzeug'. No files were found to uninstall.
  Attempting uninstall: Jinja2
    Found existing installation: Jinja2 2.10
    Not uninstalling jinja2 at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'Jinja2'. No files were found to uninstall.
  Attempting uninstall: setuptools
    Found existing installation: setuptools 58.3.0
    Uninstalling setuptools-58.3.0:
      Successfully uninstalled setuptools-58.3.0
  Attempting uninstall: requests
    Found existing installation: requests 2.21.0
    Not uninstalling requests at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'requests'. No files were found to uninstall.
  Attempting uninstall: Flask
    Found existing installation: Flask 1.0.2
    Not uninstalling flask at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'Flask'. No files were found to uninstall.
  Attempting uninstall: pyserial
    Found existing installation: pyserial 3.4
    Not uninstalling pyserial at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'pyserial'. No files were found to uninstall.
  Attempting uninstall: filelock
    Found existing installation: filelock 3.3.1
    Not uninstalling filelock at /usr/local/lib/python3.7/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'filelock'. No files were found to uninstall.
Successfully installed Babel-2.9.1 Flask-1.1.2 Flask-Accept-0.0.6 Flask-Babel-2.0.0 Flask-Compress-1.9.0 Flask-Limiter-1.4 Flask-Login-0.5.0 Flask-Marshmallow-0.14.0 Flask-RESTX-0.3.0 Flask-SQLAlchemy-2.5.1 Flask-Session-0.4.0 Flask-Talisman-0.7.0 Flask-WTF-0.14.3 Jinja2-3.0.2 Mako-1.1.5 MarkupSafe-2.0.1 SQLAlchemy-1.4.7 WTForms-2.3.3 Werkzeug-1.0.1 alembic-1.5.8 aniso8601-9.0.1 argparse-1.4.0 attrs-21.2.0 bcrypt-3.2.0 brotli-1.0.9 cachelib-0.4.1 cffi-1.15.0 daemonize-2.5.0 decorator-5.1.0 distro-1.5.0 dnspython-2.1.0 email-validator-1.1.2 filelock-3.0.12 future-0.18.2 geocoder-1.38.1 greenlet-1.1.2 gunicorn-20.1.0 influxdb-5.3.1 jsonschema-4.1.2 limits-1.5.1 marshmallow-3.14.0 marshmallow-sqlalchemy-0.24.2 msgpack-1.0.2 pycparser-2.20 pyro5-5.12 pyrsistent-0.18.0 pyserial-3.5 python-dateutil-2.8.1 python-editor-1.0.4 pytz-2021.3 ratelim-0.1.6 requests-2.25.1 serpent-1.40 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting pylibftdi==0.19.0
  Downloading https://www.piwheels.org/simple/pylibftdi/pylibftdi-0.19.0-py2.py3-none-any.whl (32 kB)
Requirement already satisfied: RPi.GPIO in /usr/lib/python3/dist-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.0)
Collecting smbus2==0.4.1
  Downloading https://www.piwheels.org/simple/smbus2/smbus2-0.4.1-py2.py3-none-any.whl (11 kB)
Installing collected packages: smbus2, pylibftdi
Successfully installed pylibftdi-0.19.0 smbus2-0.4.1
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting testfixtures==6.17.1
  Downloading https://www.piwheels.org/simple/testfixtures/testfixtures-6.17.1-py2.py3-none-any.whl (95 kB)
Collecting mock==4.0.3
  Downloading https://www.piwheels.org/simple/mock/mock-4.0.3-py3-none-any.whl (28 kB)
Collecting pytest==6.2.3
  Downloading https://www.piwheels.org/simple/pytest/pytest-6.2.3-py3-none-any.whl (280 kB)
Collecting factory_boy==3.2.0
  Downloading https://www.piwheels.org/simple/factory-boy/factory_boy-3.2.0-py2.py3-none-any.whl (35 kB)
Collecting webtest==2.0.35
  Downloading https://www.piwheels.org/simple/webtest/WebTest-2.0.35-py2.py3-none-any.whl (32 kB)
Collecting iniconfig
  Downloading https://www.piwheels.org/simple/iniconfig/iniconfig-1.1.1-py2.py3-none-any.whl (5.0 kB)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.2.0)
Collecting packaging
  Downloading https://www.piwheels.org/simple/packaging/packaging-21.0-py3-none-any.whl (40 kB)
Collecting pluggy<1.0.0a1,>=0.12
  Downloading https://www.piwheels.org/simple/pluggy/pluggy-0.13.1-py2.py3-none-any.whl (18 kB)
Collecting toml
  Downloading https://www.piwheels.org/simple/toml/toml-0.10.2-py2.py3-none-any.whl (16 kB)
Collecting py>=1.8.2
  Downloading https://www.piwheels.org/simple/py/py-1.10.0-py2.py3-none-any.whl (97 kB)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.8.1)
Collecting Faker>=0.7.0
  Downloading https://www.piwheels.org/simple/faker/Faker-9.5.2-py3-none-any.whl (1.2 MB)
Collecting WebOb>=1.2
  Downloading https://www.piwheels.org/simple/webob/WebOb-1.8.7-py2.py3-none-any.whl (114 kB)
Collecting waitress>=0.8.5
  Downloading https://www.piwheels.org/simple/waitress/waitress-2.0.0-py3-none-any.whl (56 kB)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Collecting text-unidecode==1.3
  Downloading https://www.piwheels.org/simple/text-unidecode/text_unidecode-1.3-py2.py3-none-any.whl (78 kB)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.10.0.2)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.6.0)
Collecting pyparsing>=2.0.2
  Downloading https://www.piwheels.org/simple/pyparsing/pyparsing-3.0.1-py3-none-any.whl (96 kB)
Installing collected packages: text-unidecode, pyparsing, WebOb, waitress, toml, py, pluggy, packaging, iniconfig, Faker, webtest, testfixtures, pytest, mock, factory-boy
Successfully installed Faker-9.5.2 WebOb-1.8.7 factory-boy-3.2.0 iniconfig-1.1.1 mock-4.0.3 packaging-21.0 pluggy-0.13.1 py-1.10.0 pyparsing-3.0.1 pytest-6.2.3 testfixtures-6.17.1 text-unidecode-1.3 toml-0.10.2 waitress-2.0.0 webtest-2.0.35
--2021-10-25 09:46:52--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  138K 0s
    50K .                                                     100% 1974G=0.4s

2021-10-25 09:46:54 (141 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98581 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.50) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
#### Incorrect InfluxDB version (v(none)) installed. Installing v1.8.0-1...
Selecting previously unselected package influxdb.
(Reading database ... 98581 files and directories currently installed.)
Preparing to unpack influxdb_1.8.0_armhf.deb ...
Unpacking influxdb (1.8.0-1) ...
Setting up influxdb (1.8.0-1) ...
Created symlink /etc/systemd/system/influxd.service → /lib/systemd/system/influxdb.service.
Created symlink /etc/systemd/system/multi-user.target.wants/influxdb.service → /lib/systemd/system/influxdb.service.
Processing triggers for man-db (2.8.5-2) ...

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
Adding user `mycodo' to group `adm' ...
Adding user mycodo to group adm
Done.
Adding user `mycodo' to group `dialout' ...
Adding user mycodo to group dialout
Done.
Adding user `mycodo' to group `gpio' ...
Adding user mycodo to group gpio
Done.
Adding user `mycodo' to group `i2c' ...
Adding user mycodo to group i2c
Done.
Adding user `mycodo' to group `kmem' ...
Adding user mycodo to group kmem
Done.
Adding user `mycodo' to group `video' ...
Adding user mycodo to group video
Done.
Adding user `pi' to group `mycodo' ...
Adding user pi to group mycodo
Done.
Adding user `mycodo' to group `pi' ...
Adding user mycodo to group pi
Done.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
logrotate execution moved from cron.daily to cron.hourly
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
.........................................................................................................................++++
...............................................................++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Failed to disable unit: Unit file mycodo.service does not exist.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Failed to disable unit: Unit file mycodoflask.service does not exist.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Successfully connected to http://localhost

#### Setting permissions

#### Restarting the Mycodo daemon
#### Mycodo Installer finished Mon 25 Oct 09:52:03 BST 2021
#### Total install time: 14 minutes and 3 seconds

*********************************
** Mycodo finished installing! **
*********************************

Although the install finished, it doesn't necessarily mean it installed correctly.
If you experience issues, review the full install log is located at:
/home/pi/Mycodo/install/setup.log

Go to https://192.168.8.171/, or whatever your Raspberry Pi's
IP address is, to create an admin user and log in.
### Mycodo installation initiated Tue  2 Nov 09:35:26 GMT 2021
#### Mycodo installation began Tue  2 Nov 09:35:31 GMT 2021

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap not currently set to 100 MB. Not changing.

#### Updating apt repositories
Get:1 https://download.docker.com/linux/raspbian buster InRelease [33.6 kB]
Hit:2 http://archive.raspberrypi.org/debian buster InRelease
Hit:3 http://raspbian.raspberrypi.org/raspbian buster InRelease
Fetched 33.6 kB in 2s (21.1 kB/s)
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
Package 'python-pip' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
Package 'python-cffi-backend' is not installed, so not removed
Package 'python3-cffi-backend' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
gawk is already the newest version (1:4.2.1+dfsg-1).
gcc is already the newest version (4:8.3.0-1+rpi2).
git is already the newest version (1:2.20.1-2+deb10u3).
libffi-dev is already the newest version (3.2.1-9).
libi2c-dev is already the newest version (4.1-1).
logrotate is already the newest version (3.14.0-4).
moreutils is already the newest version (0.62-1+b1).
nginx is already the newest version (1.14.2-2+deb10u4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-pylint-common is already the newest version (0.2.5-2).
python3-setuptools is already the newest version (40.8.0-1).
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
sqlite3 is already the newest version (3.27.2-3+deb10u1).
wget is already the newest version (1.20.1-1.1).
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.
Searching for pip
Best match: pip 21.3.1
Adding pip 21.3.1 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.9 script to /usr/local/bin

Using /usr/local/lib/python3.7/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (21.3.1)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

#### Checking python 3 virtualenv
#### Virtualenv already exists, skipping creation

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.3.1)

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.3.1)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (56.0.0)
Collecting setuptools
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-58.4.0-py3-none-any.whl (946 kB)
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 56.0.0
    Uninstalling setuptools-56.0.0:
      Successfully uninstalled setuptools-56.0.0
Successfully installed setuptools-58.4.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: alembic==1.5.8 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.5.8)
Collecting argparse==1.4.0
  Using cached https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Requirement already satisfied: bcrypt==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 4)) (3.2.0)
Requirement already satisfied: daemonize==2.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 5)) (2.5.0)
Requirement already satisfied: distro==1.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 6)) (1.5.0)
Requirement already satisfied: email_validator==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 7)) (1.1.2)
Requirement already satisfied: filelock==3.0.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 8)) (3.0.12)
Requirement already satisfied: Flask==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 9)) (1.1.2)
Requirement already satisfied: Flask_Accept==0.0.6 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 10)) (0.0.6)
Requirement already satisfied: Flask_Babel==2.0.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.0.0)
Requirement already satisfied: Flask_Compress==1.9.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.9.0)
Requirement already satisfied: Flask_Limiter==1.4 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.4)
Requirement already satisfied: Flask_Login==0.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 14)) (0.5.0)
Requirement already satisfied: Flask_Marshmallow==0.14.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 15)) (0.14.0)
Requirement already satisfied: Flask_RESTX==0.3.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.3.0)
Requirement already satisfied: Flask_Session==0.4.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.0)
Requirement already satisfied: Flask_SQLAlchemy==2.5.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 19)) (2.5.1)
Requirement already satisfied: Flask_Talisman==0.7.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 20)) (0.7.0)
Requirement already satisfied: Flask_WTF==0.14.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 21)) (0.14.3)
Requirement already satisfied: geocoder==1.38.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 22)) (1.38.1)
Requirement already satisfied: gunicorn==20.1.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 23)) (20.1.0)
Requirement already satisfied: influxdb==5.3.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 24)) (5.3.1)
Requirement already satisfied: marshmallow_sqlalchemy==0.24.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 25)) (0.24.2)
Requirement already satisfied: pyro5==5.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 26)) (5.12)
Requirement already satisfied: pyserial==3.5 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 27)) (3.5)
Requirement already satisfied: python-dateutil==2.8.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 28)) (2.8.1)
Requirement already satisfied: requests==2.25.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 29)) (2.25.1)
Collecting setuptools==56.0.0
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
Requirement already satisfied: SQLAlchemy==1.4.7 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.4.7)
Requirement already satisfied: Werkzeug==1.0.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 32)) (1.0.1)
Requirement already satisfied: WTForms==2.3.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.3.3)
Requirement already satisfied: Mako in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.1.5)
Requirement already satisfied: python-editor>=0.3 in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.0.4)
Requirement already satisfied: cffi>=1.1 in ./env/lib/python3.7/site-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.15.0)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Requirement already satisfied: dnspython>=1.15.0 in ./env/lib/python3.7/site-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.1.0)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Requirement already satisfied: click>=5.1 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (7.0)
Requirement already satisfied: Jinja2>=2.10.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (3.0.2)
Requirement already satisfied: itsdangerous>=0.24 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (0.24)
Requirement already satisfied: Babel>=2.3 in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.9.1)
Requirement already satisfied: pytz in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2021.3)
Requirement already satisfied: brotli in ./env/lib/python3.7/site-packages (from Flask_Compress==1.9.0->-r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.0.9)
Requirement already satisfied: limits in ./env/lib/python3.7/site-packages (from Flask_Limiter==1.4->-r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.5.1)
Requirement already satisfied: marshmallow>=2.0.0 in ./env/lib/python3.7/site-packages (from Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.14.0)
Requirement already satisfied: aniso8601>=0.82 in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (9.0.1)
Requirement already satisfied: jsonschema in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (4.1.2)
Requirement already satisfied: cachelib in ./env/lib/python3.7/site-packages (from Flask_Session==0.4.0->-r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.1)
Requirement already satisfied: ratelim in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.1.6)
Requirement already satisfied: future in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.18.2)
Requirement already satisfied: msgpack in ./env/lib/python3.7/site-packages (from influxdb==5.3.1->-r /home/pi/Mycodo/install/requirements.txt (line 24)) (1.0.2)
Requirement already satisfied: serpent>=1.27 in ./env/lib/python3.7/site-packages (from pyro5==5.12->-r /home/pi/Mycodo/install/requirements.txt (line 26)) (1.40)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Requirement already satisfied: greenlet!=0.4.17 in ./env/lib/python3.7/site-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.1.2)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.8.1)
Requirement already satisfied: MarkupSafe in ./env/lib/python3.7/site-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.0.1)
Requirement already satisfied: pycparser in ./env/lib/python3.7/site-packages (from cffi>=1.1->bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (2.20)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.6.0)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.10.0.2)
Requirement already satisfied: attrs>=17.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (21.2.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.18.0)
Requirement already satisfied: decorator in ./env/lib/python3.7/site-packages (from ratelim->geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (5.1.0)
Installing collected packages: setuptools, argparse
  Attempting uninstall: setuptools
    Found existing installation: setuptools 58.4.0
    Uninstalling setuptools-58.4.0:
      Successfully uninstalled setuptools-58.4.0
Successfully installed argparse-1.4.0 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pylibftdi==0.19.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 2)) (0.19.0)
Requirement already satisfied: RPi.GPIO in /usr/lib/python3/dist-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.0)
Requirement already satisfied: smbus2==0.4.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 4)) (0.4.1)
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: testfixtures==6.17.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 2)) (6.17.1)
Requirement already satisfied: mock==4.0.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 3)) (4.0.3)
Requirement already satisfied: pytest==6.2.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (6.2.3)
Requirement already satisfied: factory_boy==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.2.0)
Requirement already satisfied: webtest==2.0.35 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.35)
Requirement already satisfied: toml in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.10.2)
Requirement already satisfied: iniconfig in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.1.1)
Requirement already satisfied: py>=1.8.2 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.10.0)
Requirement already satisfied: pluggy<1.0.0a1,>=0.12 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.13.1)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.0)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.2.0)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.8.1)
Requirement already satisfied: Faker>=0.7.0 in ./env/lib/python3.7/site-packages (from factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (9.5.2)
Requirement already satisfied: WebOb>=1.2 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.8.7)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Requirement already satisfied: waitress>=0.8.5 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.0)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: text-unidecode==1.3 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (1.3)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.10.0.2)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.6.0)
Requirement already satisfied: pyparsing>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.0.1)
--2021-11-02 09:38:28--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  141K 0s
    50K .                                                     100% 1974G=0.4s

2021-11-02 09:38:30 (144 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98844 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.52) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
Correct version of InfluxDB currently installed

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
...................................................++++
........................................................................................................................................................++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Removed /etc/systemd/system/multi-user.target.wants/mycodo.service.
Removed /etc/systemd/system/mycodo.service.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Removed /etc/systemd/system/mycodoflask.service.
Removed /etc/systemd/system/multi-user.target.wants/mycodoflask.service.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...

**********************************
** ERROR During Mycodo Install! **
**********************************

An error occurred that may have prevented Mycodo from
being installed properly!

Open to the end of the setup log to view the full error:
/home/pi/Mycodo/install/setup.log

Please contact the developer by submitting a bug report
at https://github.com/kizniche/Mycodo/issues with the
pertinent excerpts from the setup log located at:
/home/pi/Mycodo/install/setup.log
### Mycodo installation initiated Tue  2 Nov 09:42:58 GMT 2021
#### Mycodo installation began Tue  2 Nov 09:43:01 GMT 2021

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap not currently set to 100 MB. Not changing.

#### Updating apt repositories
Get:1 https://download.docker.com/linux/raspbian buster InRelease [33.6 kB]
Hit:2 http://raspbian.raspberrypi.org/raspbian buster InRelease
Hit:3 http://archive.raspberrypi.org/debian buster InRelease
Fetched 33.6 kB in 1s (23.8 kB/s)
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
Package 'python-pip' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
Package 'python-cffi-backend' is not installed, so not removed
Package 'python3-cffi-backend' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
gawk is already the newest version (1:4.2.1+dfsg-1).
gcc is already the newest version (4:8.3.0-1+rpi2).
git is already the newest version (1:2.20.1-2+deb10u3).
libffi-dev is already the newest version (3.2.1-9).
libi2c-dev is already the newest version (4.1-1).
logrotate is already the newest version (3.14.0-4).
moreutils is already the newest version (0.62-1+b1).
nginx is already the newest version (1.14.2-2+deb10u4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-pylint-common is already the newest version (0.2.5-2).
python3-setuptools is already the newest version (40.8.0-1).
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
sqlite3 is already the newest version (3.27.2-3+deb10u1).
wget is already the newest version (1.20.1-1.1).
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.
Searching for pip
Best match: pip 21.3.1
Adding pip 21.3.1 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.9 script to /usr/local/bin

Using /usr/local/lib/python3.7/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (21.3.1)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

#### Checking python 3 virtualenv
#### Virtualenv already exists, skipping creation

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.3.1)

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.3.1)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (56.0.0)
Collecting setuptools
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-58.4.0-py3-none-any.whl (946 kB)
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 56.0.0
    Uninstalling setuptools-56.0.0:
      Successfully uninstalled setuptools-56.0.0
Successfully installed setuptools-58.4.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: alembic==1.5.8 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.5.8)
Collecting argparse==1.4.0
  Using cached https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Requirement already satisfied: bcrypt==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 4)) (3.2.0)
Requirement already satisfied: daemonize==2.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 5)) (2.5.0)
Requirement already satisfied: distro==1.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 6)) (1.5.0)
Requirement already satisfied: email_validator==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 7)) (1.1.2)
Requirement already satisfied: filelock==3.0.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 8)) (3.0.12)
Requirement already satisfied: Flask==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 9)) (1.1.2)
Requirement already satisfied: Flask_Accept==0.0.6 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 10)) (0.0.6)
Requirement already satisfied: Flask_Babel==2.0.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.0.0)
Requirement already satisfied: Flask_Compress==1.9.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.9.0)
Requirement already satisfied: Flask_Limiter==1.4 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.4)
Requirement already satisfied: Flask_Login==0.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 14)) (0.5.0)
Requirement already satisfied: Flask_Marshmallow==0.14.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 15)) (0.14.0)
Requirement already satisfied: Flask_RESTX==0.3.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.3.0)
Requirement already satisfied: Flask_Session==0.4.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.0)
Requirement already satisfied: Flask_SQLAlchemy==2.5.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 19)) (2.5.1)
Requirement already satisfied: Flask_Talisman==0.7.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 20)) (0.7.0)
Requirement already satisfied: Flask_WTF==0.14.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 21)) (0.14.3)
Requirement already satisfied: geocoder==1.38.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 22)) (1.38.1)
Requirement already satisfied: gunicorn==20.1.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 23)) (20.1.0)
Requirement already satisfied: influxdb==5.3.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 24)) (5.3.1)
Requirement already satisfied: marshmallow_sqlalchemy==0.24.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 25)) (0.24.2)
Requirement already satisfied: pyro5==5.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 26)) (5.12)
Requirement already satisfied: pyserial==3.5 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 27)) (3.5)
Requirement already satisfied: python-dateutil==2.8.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 28)) (2.8.1)
Requirement already satisfied: requests==2.25.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 29)) (2.25.1)
Collecting setuptools==56.0.0
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
Requirement already satisfied: SQLAlchemy==1.4.7 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.4.7)
Requirement already satisfied: Werkzeug==1.0.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 32)) (1.0.1)
Requirement already satisfied: WTForms==2.3.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.3.3)
Requirement already satisfied: Mako in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.1.5)
Requirement already satisfied: python-editor>=0.3 in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.0.4)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Requirement already satisfied: cffi>=1.1 in ./env/lib/python3.7/site-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.15.0)
Requirement already satisfied: dnspython>=1.15.0 in ./env/lib/python3.7/site-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.1.0)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Requirement already satisfied: Jinja2>=2.10.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (3.0.2)
Requirement already satisfied: itsdangerous>=0.24 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (0.24)
Requirement already satisfied: click>=5.1 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (7.0)
Requirement already satisfied: Babel>=2.3 in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.9.1)
Requirement already satisfied: pytz in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2021.3)
Requirement already satisfied: brotli in ./env/lib/python3.7/site-packages (from Flask_Compress==1.9.0->-r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.0.9)
Requirement already satisfied: limits in ./env/lib/python3.7/site-packages (from Flask_Limiter==1.4->-r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.5.1)
Requirement already satisfied: marshmallow>=2.0.0 in ./env/lib/python3.7/site-packages (from Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.14.0)
Requirement already satisfied: aniso8601>=0.82 in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (9.0.1)
Requirement already satisfied: jsonschema in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (4.1.2)
Requirement already satisfied: cachelib in ./env/lib/python3.7/site-packages (from Flask_Session==0.4.0->-r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.1)
Requirement already satisfied: ratelim in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.1.6)
Requirement already satisfied: future in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.18.2)
Requirement already satisfied: msgpack in ./env/lib/python3.7/site-packages (from influxdb==5.3.1->-r /home/pi/Mycodo/install/requirements.txt (line 24)) (1.0.2)
Requirement already satisfied: serpent>=1.27 in ./env/lib/python3.7/site-packages (from pyro5==5.12->-r /home/pi/Mycodo/install/requirements.txt (line 26)) (1.40)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.8.1)
Requirement already satisfied: greenlet!=0.4.17 in ./env/lib/python3.7/site-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.1.2)
Requirement already satisfied: MarkupSafe in ./env/lib/python3.7/site-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.0.1)
Requirement already satisfied: pycparser in ./env/lib/python3.7/site-packages (from cffi>=1.1->bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (2.20)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.10.0.2)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.6.0)
Requirement already satisfied: attrs>=17.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (21.2.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.18.0)
Requirement already satisfied: decorator in ./env/lib/python3.7/site-packages (from ratelim->geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (5.1.0)
Installing collected packages: setuptools, argparse
  Attempting uninstall: setuptools
    Found existing installation: setuptools 58.4.0
    Uninstalling setuptools-58.4.0:
      Successfully uninstalled setuptools-58.4.0
Successfully installed argparse-1.4.0 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pylibftdi==0.19.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 2)) (0.19.0)
Requirement already satisfied: RPi.GPIO in /usr/lib/python3/dist-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.0)
Requirement already satisfied: smbus2==0.4.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 4)) (0.4.1)
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: testfixtures==6.17.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 2)) (6.17.1)
Requirement already satisfied: mock==4.0.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 3)) (4.0.3)
Requirement already satisfied: pytest==6.2.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (6.2.3)
Requirement already satisfied: factory_boy==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.2.0)
Requirement already satisfied: webtest==2.0.35 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.35)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.2.0)
Requirement already satisfied: py>=1.8.2 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.10.0)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.8.1)
Requirement already satisfied: pluggy<1.0.0a1,>=0.12 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.13.1)
Requirement already satisfied: iniconfig in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.1.1)
Requirement already satisfied: toml in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.10.2)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.0)
Requirement already satisfied: Faker>=0.7.0 in ./env/lib/python3.7/site-packages (from factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (9.5.2)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Requirement already satisfied: waitress>=0.8.5 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.0)
Requirement already satisfied: WebOb>=1.2 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.8.7)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Requirement already satisfied: text-unidecode==1.3 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (1.3)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.10.0.2)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.6.0)
Requirement already satisfied: pyparsing>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.0.1)
--2021-11-02 09:45:22--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  141K 0s
    50K .                                                     100% 1974G=0.4s

2021-11-02 09:45:24 (144 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98844 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.52) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
Correct version of InfluxDB currently installed

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
.................................++++
.......++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Removed /etc/systemd/system/multi-user.target.wants/mycodo.service.
Removed /etc/systemd/system/mycodo.service.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Removed /etc/systemd/system/mycodoflask.service.
Removed /etc/systemd/system/multi-user.target.wants/mycodoflask.service.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Successfully connected to http://localhost

#### Setting permissions

#### Restarting the Mycodo daemon
#### Mycodo Installer finished Tue  2 Nov 09:47:54 GMT 2021
#### Total install time: 4 minutes and 53 seconds

*********************************
** Mycodo finished installing! **
*********************************

Although the install finished, it doesn't necessarily mean it installed correctly.
If you experience issues, review the full install log is located at:
/home/pi/Mycodo/install/setup.log

Go to https://192.168.8.171/, or whatever your Raspberry Pi's
IP address is, to create an admin user and log in.
### Mycodo installation initiated Tue  2 Nov 10:16:29 GMT 2021
#### Mycodo installation began Tue  2 Nov 10:16:32 GMT 2021

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap not currently set to 100 MB. Not changing.

#### Updating apt repositories
Get:1 https://download.docker.com/linux/raspbian buster InRelease [33.6 kB]
Hit:2 http://archive.raspberrypi.org/debian buster InRelease
Hit:3 http://raspbian.raspberrypi.org/raspbian buster InRelease
Fetched 33.6 kB in 1s (23.2 kB/s)
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
Package 'python-pip' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
Package 'python-cffi-backend' is not installed, so not removed
Package 'python3-cffi-backend' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
gawk is already the newest version (1:4.2.1+dfsg-1).
gcc is already the newest version (4:8.3.0-1+rpi2).
git is already the newest version (1:2.20.1-2+deb10u3).
libffi-dev is already the newest version (3.2.1-9).
libi2c-dev is already the newest version (4.1-1).
logrotate is already the newest version (3.14.0-4).
moreutils is already the newest version (0.62-1+b1).
nginx is already the newest version (1.14.2-2+deb10u4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-pylint-common is already the newest version (0.2.5-2).
python3-setuptools is already the newest version (40.8.0-1).
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
sqlite3 is already the newest version (3.27.2-3+deb10u1).
wget is already the newest version (1.20.1-1.1).
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.
Searching for pip
Best match: pip 21.3.1
Adding pip 21.3.1 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.9 script to /usr/local/bin

Using /usr/local/lib/python3.7/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (21.3.1)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

#### Checking python 3 virtualenv
#### Virtualenv already exists, skipping creation

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.3.1)

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.3.1)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (56.0.0)
Collecting setuptools
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-58.4.0-py3-none-any.whl (946 kB)
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 56.0.0
    Uninstalling setuptools-56.0.0:
      Successfully uninstalled setuptools-56.0.0
Successfully installed setuptools-58.4.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: alembic==1.5.8 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.5.8)
Collecting argparse==1.4.0
  Using cached https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Requirement already satisfied: bcrypt==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 4)) (3.2.0)
Requirement already satisfied: daemonize==2.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 5)) (2.5.0)
Requirement already satisfied: distro==1.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 6)) (1.5.0)
Requirement already satisfied: email_validator==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 7)) (1.1.2)
Requirement already satisfied: filelock==3.0.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 8)) (3.0.12)
Requirement already satisfied: Flask==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 9)) (1.1.2)
Requirement already satisfied: Flask_Accept==0.0.6 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 10)) (0.0.6)
Requirement already satisfied: Flask_Babel==2.0.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.0.0)
Requirement already satisfied: Flask_Compress==1.9.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.9.0)
Requirement already satisfied: Flask_Limiter==1.4 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.4)
Requirement already satisfied: Flask_Login==0.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 14)) (0.5.0)
Requirement already satisfied: Flask_Marshmallow==0.14.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 15)) (0.14.0)
Requirement already satisfied: Flask_RESTX==0.3.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.3.0)
Requirement already satisfied: Flask_Session==0.4.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.0)
Requirement already satisfied: Flask_SQLAlchemy==2.5.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 19)) (2.5.1)
Requirement already satisfied: Flask_Talisman==0.7.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 20)) (0.7.0)
Requirement already satisfied: Flask_WTF==0.14.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 21)) (0.14.3)
Requirement already satisfied: geocoder==1.38.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 22)) (1.38.1)
Requirement already satisfied: gunicorn==20.1.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 23)) (20.1.0)
Requirement already satisfied: influxdb==5.3.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 24)) (5.3.1)
Requirement already satisfied: marshmallow_sqlalchemy==0.24.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 25)) (0.24.2)
Requirement already satisfied: pyro5==5.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 26)) (5.12)
Requirement already satisfied: pyserial==3.5 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 27)) (3.5)
Requirement already satisfied: python-dateutil==2.8.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 28)) (2.8.1)
Requirement already satisfied: requests==2.25.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 29)) (2.25.1)
Collecting setuptools==56.0.0
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
Requirement already satisfied: SQLAlchemy==1.4.7 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.4.7)
Requirement already satisfied: Werkzeug==1.0.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 32)) (1.0.1)
Requirement already satisfied: WTForms==2.3.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.3.3)
Requirement already satisfied: Mako in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.1.5)
Requirement already satisfied: python-editor>=0.3 in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.0.4)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Requirement already satisfied: cffi>=1.1 in ./env/lib/python3.7/site-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.15.0)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Requirement already satisfied: dnspython>=1.15.0 in ./env/lib/python3.7/site-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.1.0)
Requirement already satisfied: itsdangerous>=0.24 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (0.24)
Requirement already satisfied: click>=5.1 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (7.0)
Requirement already satisfied: Jinja2>=2.10.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (3.0.2)
Requirement already satisfied: pytz in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2021.3)
Requirement already satisfied: Babel>=2.3 in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.9.1)
Requirement already satisfied: brotli in ./env/lib/python3.7/site-packages (from Flask_Compress==1.9.0->-r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.0.9)
Requirement already satisfied: limits in ./env/lib/python3.7/site-packages (from Flask_Limiter==1.4->-r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.5.1)
Requirement already satisfied: marshmallow>=2.0.0 in ./env/lib/python3.7/site-packages (from Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.14.0)
Requirement already satisfied: jsonschema in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (4.1.2)
Requirement already satisfied: aniso8601>=0.82 in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (9.0.1)
Requirement already satisfied: cachelib in ./env/lib/python3.7/site-packages (from Flask_Session==0.4.0->-r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.1)
Requirement already satisfied: future in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.18.2)
Requirement already satisfied: ratelim in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.1.6)
Requirement already satisfied: msgpack in ./env/lib/python3.7/site-packages (from influxdb==5.3.1->-r /home/pi/Mycodo/install/requirements.txt (line 24)) (1.0.2)
Requirement already satisfied: serpent>=1.27 in ./env/lib/python3.7/site-packages (from pyro5==5.12->-r /home/pi/Mycodo/install/requirements.txt (line 26)) (1.40)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.8.1)
Requirement already satisfied: greenlet!=0.4.17 in ./env/lib/python3.7/site-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.1.2)
Requirement already satisfied: MarkupSafe in ./env/lib/python3.7/site-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.0.1)
Requirement already satisfied: pycparser in ./env/lib/python3.7/site-packages (from cffi>=1.1->bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (2.20)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.10.0.2)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.6.0)
Requirement already satisfied: attrs>=17.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (21.2.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.18.0)
Requirement already satisfied: decorator in ./env/lib/python3.7/site-packages (from ratelim->geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (5.1.0)
Installing collected packages: setuptools, argparse
  Attempting uninstall: setuptools
    Found existing installation: setuptools 58.4.0
    Uninstalling setuptools-58.4.0:
      Successfully uninstalled setuptools-58.4.0
Successfully installed argparse-1.4.0 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pylibftdi==0.19.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 2)) (0.19.0)
Requirement already satisfied: RPi.GPIO in /usr/lib/python3/dist-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.0)
Requirement already satisfied: smbus2==0.4.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 4)) (0.4.1)
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: testfixtures==6.17.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 2)) (6.17.1)
Requirement already satisfied: mock==4.0.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 3)) (4.0.3)
Requirement already satisfied: pytest==6.2.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (6.2.3)
Requirement already satisfied: factory_boy==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.2.0)
Requirement already satisfied: webtest==2.0.35 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.35)
Requirement already satisfied: py>=1.8.2 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.10.0)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.2.0)
Requirement already satisfied: iniconfig in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.1.1)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.0)
Requirement already satisfied: pluggy<1.0.0a1,>=0.12 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.13.1)
Requirement already satisfied: toml in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.10.2)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.8.1)
Requirement already satisfied: Faker>=0.7.0 in ./env/lib/python3.7/site-packages (from factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (9.5.2)
Requirement already satisfied: waitress>=0.8.5 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.0)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Requirement already satisfied: WebOb>=1.2 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.8.7)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Requirement already satisfied: text-unidecode==1.3 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (1.3)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.10.0.2)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.6.0)
Requirement already satisfied: pyparsing>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.0.1)
--2021-11-02 10:18:53--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  138K 0s
    50K .                                                     100% 1974G=0.4s

2021-11-02 10:18:55 (141 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98844 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.52) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
Correct version of InfluxDB currently installed

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
........................................................................++++
...................................................................................................++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Removed /etc/systemd/system/multi-user.target.wants/mycodo.service.
Removed /etc/systemd/system/mycodo.service.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Removed /etc/systemd/system/mycodoflask.service.
Removed /etc/systemd/system/multi-user.target.wants/mycodoflask.service.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Successfully connected to http://localhost

#### Setting permissions

#### Restarting the Mycodo daemon
#### Mycodo Installer finished Tue  2 Nov 10:21:23 GMT 2021
#### Total install time: 4 minutes and 51 seconds

*********************************
** Mycodo finished installing! **
*********************************

Although the install finished, it doesn't necessarily mean it installed correctly.
If you experience issues, review the full install log is located at:
/home/pi/Mycodo/install/setup.log

Go to https://192.168.8.171/, or whatever your Raspberry Pi's
IP address is, to create an admin user and log in.
### Mycodo installation initiated Tue  2 Nov 10:35:18 GMT 2021
#### Mycodo installation began Tue  2 Nov 10:35:22 GMT 2021

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap not currently set to 100 MB. Not changing.

#### Updating apt repositories
Get:1 https://download.docker.com/linux/raspbian buster InRelease [33.6 kB]
Hit:2 http://archive.raspberrypi.org/debian buster InRelease
Hit:3 http://raspbian.raspberrypi.org/raspbian buster InRelease
Fetched 33.6 kB in 2s (18.5 kB/s)
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
Package 'python-pip' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
Package 'python-cffi-backend' is not installed, so not removed
Package 'python3-cffi-backend' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
gawk is already the newest version (1:4.2.1+dfsg-1).
gcc is already the newest version (4:8.3.0-1+rpi2).
git is already the newest version (1:2.20.1-2+deb10u3).
libffi-dev is already the newest version (3.2.1-9).
libi2c-dev is already the newest version (4.1-1).
logrotate is already the newest version (3.14.0-4).
moreutils is already the newest version (0.62-1+b1).
nginx is already the newest version (1.14.2-2+deb10u4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-pylint-common is already the newest version (0.2.5-2).
python3-setuptools is already the newest version (40.8.0-1).
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
sqlite3 is already the newest version (3.27.2-3+deb10u1).
wget is already the newest version (1.20.1-1.1).
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.
Searching for pip
Best match: pip 21.3.1
Adding pip 21.3.1 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.9 script to /usr/local/bin

Using /usr/local/lib/python3.7/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (21.3.1)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

#### Checking python 3 virtualenv
#### Virtualenv already exists, skipping creation

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.3.1)

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.3.1)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (56.0.0)
Collecting setuptools
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-58.4.0-py3-none-any.whl (946 kB)
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 56.0.0
    Uninstalling setuptools-56.0.0:
      Successfully uninstalled setuptools-56.0.0
Successfully installed setuptools-58.4.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: alembic==1.5.8 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.5.8)
Collecting argparse==1.4.0
  Using cached https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Requirement already satisfied: bcrypt==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 4)) (3.2.0)
Requirement already satisfied: daemonize==2.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 5)) (2.5.0)
Requirement already satisfied: distro==1.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 6)) (1.5.0)
Requirement already satisfied: email_validator==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 7)) (1.1.2)
Requirement already satisfied: filelock==3.0.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 8)) (3.0.12)
Requirement already satisfied: Flask==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 9)) (1.1.2)
Requirement already satisfied: Flask_Accept==0.0.6 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 10)) (0.0.6)
Requirement already satisfied: Flask_Babel==2.0.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.0.0)
Requirement already satisfied: Flask_Compress==1.9.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.9.0)
Requirement already satisfied: Flask_Limiter==1.4 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.4)
Requirement already satisfied: Flask_Login==0.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 14)) (0.5.0)
Requirement already satisfied: Flask_Marshmallow==0.14.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 15)) (0.14.0)
Requirement already satisfied: Flask_RESTX==0.3.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.3.0)
Requirement already satisfied: Flask_Session==0.4.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.0)
Requirement already satisfied: Flask_SQLAlchemy==2.5.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 19)) (2.5.1)
Requirement already satisfied: Flask_Talisman==0.7.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 20)) (0.7.0)
Requirement already satisfied: Flask_WTF==0.14.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 21)) (0.14.3)
Requirement already satisfied: geocoder==1.38.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 22)) (1.38.1)
Requirement already satisfied: gunicorn==20.1.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 23)) (20.1.0)
Requirement already satisfied: influxdb==5.3.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 24)) (5.3.1)
Requirement already satisfied: marshmallow_sqlalchemy==0.24.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 25)) (0.24.2)
Requirement already satisfied: pyro5==5.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 26)) (5.12)
Requirement already satisfied: pyserial==3.5 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 27)) (3.5)
Requirement already satisfied: python-dateutil==2.8.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 28)) (2.8.1)
Requirement already satisfied: requests==2.25.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 29)) (2.25.1)
Collecting setuptools==56.0.0
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
Requirement already satisfied: SQLAlchemy==1.4.7 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.4.7)
Requirement already satisfied: Werkzeug==1.0.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 32)) (1.0.1)
Requirement already satisfied: WTForms==2.3.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.3.3)
Requirement already satisfied: python-editor>=0.3 in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.0.4)
Requirement already satisfied: Mako in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.1.5)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Requirement already satisfied: cffi>=1.1 in ./env/lib/python3.7/site-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.15.0)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Requirement already satisfied: dnspython>=1.15.0 in ./env/lib/python3.7/site-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.1.0)
Requirement already satisfied: click>=5.1 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (7.0)
Requirement already satisfied: Jinja2>=2.10.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (3.0.2)
Requirement already satisfied: itsdangerous>=0.24 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (0.24)
Requirement already satisfied: Babel>=2.3 in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.9.1)
Requirement already satisfied: pytz in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2021.3)
Requirement already satisfied: brotli in ./env/lib/python3.7/site-packages (from Flask_Compress==1.9.0->-r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.0.9)
Requirement already satisfied: limits in ./env/lib/python3.7/site-packages (from Flask_Limiter==1.4->-r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.5.1)
Requirement already satisfied: marshmallow>=2.0.0 in ./env/lib/python3.7/site-packages (from Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.14.0)
Requirement already satisfied: jsonschema in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (4.1.2)
Requirement already satisfied: aniso8601>=0.82 in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (9.0.1)
Requirement already satisfied: cachelib in ./env/lib/python3.7/site-packages (from Flask_Session==0.4.0->-r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.1)
Requirement already satisfied: ratelim in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.1.6)
Requirement already satisfied: future in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.18.2)
Requirement already satisfied: msgpack in ./env/lib/python3.7/site-packages (from influxdb==5.3.1->-r /home/pi/Mycodo/install/requirements.txt (line 24)) (1.0.2)
Requirement already satisfied: serpent>=1.27 in ./env/lib/python3.7/site-packages (from pyro5==5.12->-r /home/pi/Mycodo/install/requirements.txt (line 26)) (1.40)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.8.1)
Requirement already satisfied: greenlet!=0.4.17 in ./env/lib/python3.7/site-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.1.2)
Requirement already satisfied: MarkupSafe in ./env/lib/python3.7/site-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.0.1)
Requirement already satisfied: pycparser in ./env/lib/python3.7/site-packages (from cffi>=1.1->bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (2.20)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.6.0)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.10.0.2)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.18.0)
Requirement already satisfied: attrs>=17.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (21.2.0)
Requirement already satisfied: decorator in ./env/lib/python3.7/site-packages (from ratelim->geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (5.1.0)
Installing collected packages: setuptools, argparse
  Attempting uninstall: setuptools
    Found existing installation: setuptools 58.4.0
    Uninstalling setuptools-58.4.0:
      Successfully uninstalled setuptools-58.4.0
Successfully installed argparse-1.4.0 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pylibftdi==0.19.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 2)) (0.19.0)
Requirement already satisfied: RPi.GPIO in /usr/lib/python3/dist-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.0)
Requirement already satisfied: smbus2==0.4.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 4)) (0.4.1)
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: testfixtures==6.17.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 2)) (6.17.1)
Requirement already satisfied: mock==4.0.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 3)) (4.0.3)
Requirement already satisfied: pytest==6.2.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (6.2.3)
Requirement already satisfied: factory_boy==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.2.0)
Requirement already satisfied: webtest==2.0.35 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.35)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.2.0)
Requirement already satisfied: iniconfig in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.1.1)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.8.1)
Requirement already satisfied: pluggy<1.0.0a1,>=0.12 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.13.1)
Requirement already satisfied: toml in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.10.2)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.0)
Requirement already satisfied: py>=1.8.2 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.10.0)
Requirement already satisfied: Faker>=0.7.0 in ./env/lib/python3.7/site-packages (from factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (9.5.2)
Requirement already satisfied: WebOb>=1.2 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.8.7)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Requirement already satisfied: waitress>=0.8.5 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.0)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Requirement already satisfied: text-unidecode==1.3 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (1.3)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.10.0.2)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.6.0)
Requirement already satisfied: pyparsing>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.0.1)
--2021-11-02 10:37:41--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  138K 0s
    50K .                                                     100% 1974G=0.4s

2021-11-02 10:37:42 (140 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98844 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.52) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
Correct version of InfluxDB currently installed

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
............++++
.................................................................................................................................................................................++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Removed /etc/systemd/system/multi-user.target.wants/mycodo.service.
Removed /etc/systemd/system/mycodo.service.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Removed /etc/systemd/system/mycodoflask.service.
Removed /etc/systemd/system/multi-user.target.wants/mycodoflask.service.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...

**********************************
** ERROR During Mycodo Install! **
**********************************

An error occurred that may have prevented Mycodo from
being installed properly!

Open to the end of the setup log to view the full error:
/home/pi/Mycodo/install/setup.log

Please contact the developer by submitting a bug report
at https://github.com/kizniche/Mycodo/issues with the
pertinent excerpts from the setup log located at:
/home/pi/Mycodo/install/setup.log
### Mycodo installation initiated Tue  2 Nov 10:46:54 GMT 2021
#### Mycodo installation began Tue  2 Nov 10:46:57 GMT 2021

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap not currently set to 100 MB. Not changing.

#### Updating apt repositories
Get:1 https://download.docker.com/linux/raspbian buster InRelease [33.6 kB]
Hit:2 http://archive.raspberrypi.org/debian buster InRelease
Hit:3 http://raspbian.raspberrypi.org/raspbian buster InRelease
Fetched 33.6 kB in 1s (22.4 kB/s)
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
Package 'python-pip' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
Package 'python-cffi-backend' is not installed, so not removed
Package 'python3-cffi-backend' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
gawk is already the newest version (1:4.2.1+dfsg-1).
gcc is already the newest version (4:8.3.0-1+rpi2).
git is already the newest version (1:2.20.1-2+deb10u3).
libffi-dev is already the newest version (3.2.1-9).
libi2c-dev is already the newest version (4.1-1).
logrotate is already the newest version (3.14.0-4).
moreutils is already the newest version (0.62-1+b1).
nginx is already the newest version (1.14.2-2+deb10u4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-pylint-common is already the newest version (0.2.5-2).
python3-setuptools is already the newest version (40.8.0-1).
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
sqlite3 is already the newest version (3.27.2-3+deb10u1).
wget is already the newest version (1.20.1-1.1).
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.
Searching for pip
Best match: pip 21.3.1
Adding pip 21.3.1 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.9 script to /usr/local/bin

Using /usr/local/lib/python3.7/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (21.3.1)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

#### Checking python 3 virtualenv
#### Virtualenv already exists, skipping creation

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.3.1)

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.3.1)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (56.0.0)
Collecting setuptools
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-58.4.0-py3-none-any.whl (946 kB)
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 56.0.0
    Uninstalling setuptools-56.0.0:
      Successfully uninstalled setuptools-56.0.0
Successfully installed setuptools-58.4.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: alembic==1.5.8 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.5.8)
Collecting argparse==1.4.0
  Using cached https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Requirement already satisfied: bcrypt==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 4)) (3.2.0)
Requirement already satisfied: daemonize==2.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 5)) (2.5.0)
Requirement already satisfied: distro==1.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 6)) (1.5.0)
Requirement already satisfied: email_validator==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 7)) (1.1.2)
Requirement already satisfied: filelock==3.0.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 8)) (3.0.12)
Requirement already satisfied: Flask==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 9)) (1.1.2)
Requirement already satisfied: Flask_Accept==0.0.6 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 10)) (0.0.6)
Requirement already satisfied: Flask_Babel==2.0.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.0.0)
Requirement already satisfied: Flask_Compress==1.9.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.9.0)
Requirement already satisfied: Flask_Limiter==1.4 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.4)
Requirement already satisfied: Flask_Login==0.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 14)) (0.5.0)
Requirement already satisfied: Flask_Marshmallow==0.14.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 15)) (0.14.0)
Requirement already satisfied: Flask_RESTX==0.3.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.3.0)
Requirement already satisfied: Flask_Session==0.4.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.0)
Requirement already satisfied: Flask_SQLAlchemy==2.5.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 19)) (2.5.1)
Requirement already satisfied: Flask_Talisman==0.7.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 20)) (0.7.0)
Requirement already satisfied: Flask_WTF==0.14.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 21)) (0.14.3)
Requirement already satisfied: geocoder==1.38.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 22)) (1.38.1)
Requirement already satisfied: gunicorn==20.1.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 23)) (20.1.0)
Requirement already satisfied: influxdb==5.3.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 24)) (5.3.1)
Requirement already satisfied: marshmallow_sqlalchemy==0.24.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 25)) (0.24.2)
Requirement already satisfied: pyro5==5.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 26)) (5.12)
Requirement already satisfied: pyserial==3.5 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 27)) (3.5)
Requirement already satisfied: python-dateutil==2.8.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 28)) (2.8.1)
Requirement already satisfied: requests==2.25.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 29)) (2.25.1)
Collecting setuptools==56.0.0
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
Requirement already satisfied: SQLAlchemy==1.4.7 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.4.7)
Requirement already satisfied: Werkzeug==1.0.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 32)) (1.0.1)
Requirement already satisfied: WTForms==2.3.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.3.3)
Requirement already satisfied: Mako in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.1.5)
Requirement already satisfied: python-editor>=0.3 in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.0.4)
Requirement already satisfied: cffi>=1.1 in ./env/lib/python3.7/site-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.15.0)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Requirement already satisfied: dnspython>=1.15.0 in ./env/lib/python3.7/site-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.1.0)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Requirement already satisfied: click>=5.1 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (7.0)
Requirement already satisfied: itsdangerous>=0.24 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (0.24)
Requirement already satisfied: Jinja2>=2.10.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (3.0.2)
Requirement already satisfied: pytz in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2021.3)
Requirement already satisfied: Babel>=2.3 in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.9.1)
Requirement already satisfied: brotli in ./env/lib/python3.7/site-packages (from Flask_Compress==1.9.0->-r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.0.9)
Requirement already satisfied: limits in ./env/lib/python3.7/site-packages (from Flask_Limiter==1.4->-r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.5.1)
Requirement already satisfied: marshmallow>=2.0.0 in ./env/lib/python3.7/site-packages (from Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.14.0)
Requirement already satisfied: jsonschema in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (4.1.2)
Requirement already satisfied: aniso8601>=0.82 in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (9.0.1)
Requirement already satisfied: cachelib in ./env/lib/python3.7/site-packages (from Flask_Session==0.4.0->-r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.1)
Requirement already satisfied: ratelim in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.1.6)
Requirement already satisfied: future in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.18.2)
Requirement already satisfied: msgpack in ./env/lib/python3.7/site-packages (from influxdb==5.3.1->-r /home/pi/Mycodo/install/requirements.txt (line 24)) (1.0.2)
Requirement already satisfied: serpent>=1.27 in ./env/lib/python3.7/site-packages (from pyro5==5.12->-r /home/pi/Mycodo/install/requirements.txt (line 26)) (1.40)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.8.1)
Requirement already satisfied: greenlet!=0.4.17 in ./env/lib/python3.7/site-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.1.2)
Requirement already satisfied: MarkupSafe in ./env/lib/python3.7/site-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.0.1)
Requirement already satisfied: pycparser in ./env/lib/python3.7/site-packages (from cffi>=1.1->bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (2.20)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.10.0.2)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.6.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.18.0)
Requirement already satisfied: attrs>=17.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (21.2.0)
Requirement already satisfied: decorator in ./env/lib/python3.7/site-packages (from ratelim->geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (5.1.0)
Installing collected packages: setuptools, argparse
  Attempting uninstall: setuptools
    Found existing installation: setuptools 58.4.0
    Uninstalling setuptools-58.4.0:
      Successfully uninstalled setuptools-58.4.0
Successfully installed argparse-1.4.0 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pylibftdi==0.19.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 2)) (0.19.0)
Requirement already satisfied: RPi.GPIO in /usr/lib/python3/dist-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.0)
Requirement already satisfied: smbus2==0.4.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 4)) (0.4.1)
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: testfixtures==6.17.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 2)) (6.17.1)
Requirement already satisfied: mock==4.0.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 3)) (4.0.3)
Requirement already satisfied: pytest==6.2.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (6.2.3)
Requirement already satisfied: factory_boy==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.2.0)
Requirement already satisfied: webtest==2.0.35 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.35)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.2.0)
Requirement already satisfied: pluggy<1.0.0a1,>=0.12 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.13.1)
Requirement already satisfied: py>=1.8.2 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.10.0)
Requirement already satisfied: toml in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.10.2)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.8.1)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.0)
Requirement already satisfied: iniconfig in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.1.1)
Requirement already satisfied: Faker>=0.7.0 in ./env/lib/python3.7/site-packages (from factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (9.5.2)
Requirement already satisfied: waitress>=0.8.5 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.0)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Requirement already satisfied: WebOb>=1.2 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.8.7)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.10.0.2)
Requirement already satisfied: text-unidecode==1.3 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (1.3)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.6.0)
Requirement already satisfied: pyparsing>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.0.1)
--2021-11-02 10:49:14--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  143K 0s
    50K .                                                     100% 1974G=0.3s

2021-11-02 10:49:15 (146 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98844 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.52) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
Correct version of InfluxDB currently installed

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
........................................++++
...++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Removed /etc/systemd/system/multi-user.target.wants/mycodo.service.
Removed /etc/systemd/system/mycodo.service.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Removed /etc/systemd/system/mycodoflask.service.
Removed /etc/systemd/system/multi-user.target.wants/mycodoflask.service.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...

**********************************
** ERROR During Mycodo Install! **
**********************************

An error occurred that may have prevented Mycodo from
being installed properly!

Open to the end of the setup log to view the full error:
/home/pi/Mycodo/install/setup.log

Please contact the developer by submitting a bug report
at https://github.com/kizniche/Mycodo/issues with the
pertinent excerpts from the setup log located at:
/home/pi/Mycodo/install/setup.log
### Mycodo installation initiated Mon 28 Mar 13:20:23 BST 2022
#### Mycodo installation began Mon 28 Mar 13:20:25 BST 2022

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap not currently set to 100 MB. Not changing.

#### Updating apt repositories
Get:1 http://archive.raspberrypi.org/debian buster InRelease [32.6 kB]
Err:1 http://archive.raspberrypi.org/debian buster InRelease
  Error writing to output file - write (28: No space left on device) [IP: 93.93.135.118 80]
Get:2 http://raspbian.raspberrypi.org/raspbian buster InRelease [15.0 kB]
Err:2 http://raspbian.raspberrypi.org/raspbian buster InRelease
  Error writing to output file - write (28: No space left on device) [IP: 93.93.128.193 80]
Get:3 https://download.docker.com/linux/raspbian buster InRelease [33.6 kB]
Err:3 https://download.docker.com/linux/raspbian buster InRelease
  Error writing to output file - write (28: No space left on device) [IP: 52.84.102.71 443]
Reading package lists...
W: Failed to fetch http://raspbian.raspberrypi.org/raspbian/dists/buster/InRelease  Error writing to output file - write (28: No space left on device) [IP: 93.93.128.193 80]
W: Failed to fetch https://download.docker.com/linux/raspbian/dists/buster/InRelease  Error writing to output file - write (28: No space left on device) [IP: 52.84.102.71 443]
W: Failed to fetch http://archive.raspberrypi.org/debian/dists/buster/InRelease  Error writing to output file - write (28: No space left on device) [IP: 93.93.135.118 80]
W: Some index files failed to download. They have been ignored, or old ones used instead.

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
Package 'python-pip' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 27 not upgraded.

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
Package 'python-cffi-backend' is not installed, so not removed
Package 'python3-cffi-backend' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 27 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
gawk is already the newest version (1:4.2.1+dfsg-1).
gcc is already the newest version (4:8.3.0-1+rpi2).
git is already the newest version (1:2.20.1-2+deb10u3).
libffi-dev is already the newest version (3.2.1-9).
libi2c-dev is already the newest version (4.1-1).
logrotate is already the newest version (3.14.0-4).
moreutils is already the newest version (0.62-1+b1).
nginx is already the newest version (1.14.2-2+deb10u4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-pylint-common is already the newest version (0.2.5-2).
python3-setuptools is already the newest version (40.8.0-1).
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
sqlite3 is already the newest version (3.27.2-3+deb10u1).
wget is already the newest version (1.20.1-1.1).
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-colorzero python-configparser python-cookies
  python-crypto python-dbus python-entrypoints python-enum34 python-funcsigs
  python-jwt python-keyrings.alt python-mock python-pbr python-responses
  python-wheel python-xdg python3-asn1crypto python3-cookies
  python3-entrypoints python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 27 not upgraded.
Searching for pip
Best match: pip 21.3.1
Adding pip 21.3.1 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.9 script to /usr/local/bin

Using /usr/local/lib/python3.7/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (21.3.1)
Collecting pip
  Downloading https://www.piwheels.org/simple/pip/pip-22.0.4-py3-none-any.whl (2.1 MB)
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 21.3.1
    Uninstalling pip-21.3.1:
      Successfully uninstalled pip-21.3.1
Successfully installed pip-22.0.4
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

#### Checking python 3 virtualenv
#### Virtualenv already exists, skipping creation

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.3.1)
Collecting pip
  Using cached https://www.piwheels.org/simple/pip/pip-22.0.4-py3-none-any.whl (2.1 MB)
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 21.3.1
    Uninstalling pip-21.3.1:
      Successfully uninstalled pip-21.3.1
Successfully installed pip-22.0.4

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (22.0.4)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (56.0.0)
Collecting setuptools
  Downloading https://www.piwheels.org/simple/setuptools/setuptools-61.2.0-py3-none-any.whl (1.1 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.1/1.1 MB 557.1 kB/s eta 0:00:00
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 56.0.0
    Uninstalling setuptools-56.0.0:
      Successfully uninstalled setuptools-56.0.0
Successfully installed setuptools-61.2.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: alembic==1.5.8 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.5.8)
Collecting argparse==1.4.0
  Using cached https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Requirement already satisfied: bcrypt==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 4)) (3.2.0)
Requirement already satisfied: daemonize==2.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 5)) (2.5.0)
Requirement already satisfied: distro==1.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 6)) (1.5.0)
Requirement already satisfied: email_validator==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 7)) (1.1.2)
Requirement already satisfied: filelock==3.0.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 8)) (3.0.12)
Requirement already satisfied: Flask==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 9)) (1.1.2)
Requirement already satisfied: Flask_Accept==0.0.6 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 10)) (0.0.6)
Requirement already satisfied: Flask_Babel==2.0.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.0.0)
Requirement already satisfied: Flask_Compress==1.9.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.9.0)
Requirement already satisfied: Flask_Limiter==1.4 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.4)
Requirement already satisfied: Flask_Login==0.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 14)) (0.5.0)
Requirement already satisfied: Flask_Marshmallow==0.14.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 15)) (0.14.0)
Requirement already satisfied: Flask_RESTX==0.3.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.3.0)
Requirement already satisfied: Flask_Session==0.4.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.0)
Requirement already satisfied: Flask_SQLAlchemy==2.5.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 19)) (2.5.1)
Requirement already satisfied: Flask_Talisman==0.7.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 20)) (0.7.0)
Requirement already satisfied: Flask_WTF==0.14.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 21)) (0.14.3)
Requirement already satisfied: geocoder==1.38.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 22)) (1.38.1)
Requirement already satisfied: gunicorn==20.1.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 23)) (20.1.0)
Requirement already satisfied: influxdb==5.3.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 24)) (5.3.1)
Requirement already satisfied: marshmallow_sqlalchemy==0.24.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 25)) (0.24.2)
Requirement already satisfied: pyro5==5.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 26)) (5.12)
Requirement already satisfied: pyserial==3.5 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 27)) (3.5)
Requirement already satisfied: python-dateutil==2.8.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 28)) (2.8.1)
Requirement already satisfied: requests==2.25.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 29)) (2.25.1)
Collecting setuptools==56.0.0
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
Requirement already satisfied: SQLAlchemy==1.4.7 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.4.7)
Requirement already satisfied: Werkzeug==1.0.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 32)) (1.0.1)
Requirement already satisfied: WTForms==2.3.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.3.3)
Requirement already satisfied: Mako in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.1.5)
Requirement already satisfied: python-editor>=0.3 in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.0.4)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Requirement already satisfied: cffi>=1.1 in ./env/lib/python3.7/site-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.15.0)
Requirement already satisfied: dnspython>=1.15.0 in ./env/lib/python3.7/site-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.1.0)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Requirement already satisfied: Jinja2>=2.10.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (3.0.2)
Requirement already satisfied: itsdangerous>=0.24 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (0.24)
Requirement already satisfied: click>=5.1 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (7.0)
Requirement already satisfied: pytz in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2021.3)
Requirement already satisfied: Babel>=2.3 in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.9.1)
Requirement already satisfied: brotli in ./env/lib/python3.7/site-packages (from Flask_Compress==1.9.0->-r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.0.9)
Requirement already satisfied: limits in ./env/lib/python3.7/site-packages (from Flask_Limiter==1.4->-r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.5.1)
Requirement already satisfied: marshmallow>=2.0.0 in ./env/lib/python3.7/site-packages (from Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.14.0)
Requirement already satisfied: aniso8601>=0.82 in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (9.0.1)
Requirement already satisfied: jsonschema in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (4.1.2)
Requirement already satisfied: cachelib in ./env/lib/python3.7/site-packages (from Flask_Session==0.4.0->-r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.1)
Requirement already satisfied: future in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.18.2)
Requirement already satisfied: ratelim in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.1.6)
Requirement already satisfied: msgpack in ./env/lib/python3.7/site-packages (from influxdb==5.3.1->-r /home/pi/Mycodo/install/requirements.txt (line 24)) (1.0.2)
Requirement already satisfied: serpent>=1.27 in ./env/lib/python3.7/site-packages (from pyro5==5.12->-r /home/pi/Mycodo/install/requirements.txt (line 26)) (1.40)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: greenlet!=0.4.17 in ./env/lib/python3.7/site-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.1.2)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.8.1)
Requirement already satisfied: MarkupSafe in ./env/lib/python3.7/site-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.0.1)
Requirement already satisfied: pycparser in ./env/lib/python3.7/site-packages (from cffi>=1.1->bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (2.20)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.10.0.2)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.6.0)
Requirement already satisfied: attrs>=17.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (21.2.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.18.0)
Requirement already satisfied: decorator in ./env/lib/python3.7/site-packages (from ratelim->geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (5.1.0)
Installing collected packages: argparse, setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 61.2.0
    Uninstalling setuptools-61.2.0:
      Successfully uninstalled setuptools-61.2.0
Successfully installed argparse-1.4.0 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pylibftdi==0.19.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 2)) (0.19.0)
Requirement already satisfied: RPi.GPIO in /usr/lib/python3/dist-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.0)
Collecting RPi.GPIO
  Downloading https://www.piwheels.org/simple/rpi-gpio/RPi.GPIO-0.7.1-cp37-cp37m-linux_armv7l.whl (47 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 47.9/47.9 KB 128.3 kB/s eta 0:00:00
Requirement already satisfied: smbus2==0.4.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 4)) (0.4.1)
Installing collected packages: RPi.GPIO
  Attempting uninstall: RPi.GPIO
    Found existing installation: RPi.GPIO 0.7.0
    Not uninstalling rpi-gpio at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'RPi.GPIO'. No files were found to uninstall.
Successfully installed RPi.GPIO-0.7.1
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: testfixtures==6.17.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 2)) (6.17.1)
Requirement already satisfied: mock==4.0.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 3)) (4.0.3)
Requirement already satisfied: pytest==6.2.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (6.2.3)
Requirement already satisfied: factory_boy==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.2.0)
Requirement already satisfied: webtest==2.0.35 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.35)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.8.1)
Requirement already satisfied: pluggy<1.0.0a1,>=0.12 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.13.1)
Requirement already satisfied: py>=1.8.2 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.10.0)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.0)
Requirement already satisfied: iniconfig in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.1.1)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.2.0)
Requirement already satisfied: toml in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.10.2)
Requirement already satisfied: Faker>=0.7.0 in ./env/lib/python3.7/site-packages (from factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (9.5.2)
Requirement already satisfied: WebOb>=1.2 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.8.7)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Requirement already satisfied: waitress>=0.8.5 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.0)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: text-unidecode==1.3 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (1.3)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.10.0.2)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.6.0)
Requirement already satisfied: pyparsing>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.0.1)
Will not apply HSTS. The HSTS database must be a regular and non-world-writable file.
ERROR: could not open HSTS store at '/root/.wget-hsts'. HSTS will be disabled.
--2022-03-28 13:24:02--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  116K 0s
    50K .                                                     100% 1974G=0.4s

2022-03-28 13:24:04 (119 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 99879 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.52) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...
/usr/bin/mandb: can't write to /var/cache/man/5468: No space left on device
/usr/bin/mandb: can't create index cache /var/cache/man/5468: No space left on device

#### Ensuring compatible version of influxdb is installed ####
Correct version of InfluxDB currently installed

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
.......++++
.......................................................................................................................................................................++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Removed /etc/systemd/system/multi-user.target.wants/mycodo.service.
Removed /etc/systemd/system/mycodo.service.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Removed /etc/systemd/system/mycodoflask.service.
Removed /etc/systemd/system/multi-user.target.wants/mycodoflask.service.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Successfully connected to http://localhost

#### Setting permissions

#### Restarting the Mycodo daemon
#### Mycodo Installer finished Mon 28 Mar 13:27:14 BST 2022
#### Total install time: 6 minutes and 49 seconds

*********************************
** Mycodo finished installing! **
*********************************

Although the install finished, it doesn't necessarily mean it installed correctly.
If you experience issues, review the full install log is located at:
/home/pi/Mycodo/install/setup.log

Go to https://192.168.8.125/, or whatever your Raspberry Pi's
IP address is, to create an admin user and log in.
### Mycodo installation initiated Mon 28 Mar 19:40:17 BST 2022
#### Mycodo installation began Mon 28 Mar 19:40:21 BST 2022

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap currently set to 100 MB. Changing to 512 MB and restarting
Stopping dphys-swapfile (via systemctl): dphys-swapfile.service.
Starting dphys-swapfile (via systemctl): dphys-swapfile.service.

#### Updating apt repositories
Hit:1 http://archive.raspberrypi.org/debian buster InRelease
Get:2 http://raspbian.raspberrypi.org/raspbian buster InRelease [15.0 kB]
Fetched 15.0 kB in 2s (7,164 B/s)
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-configparser python-dbus python-entrypoints python-keyring
  python-keyrings.alt python-secretstorage python-wheel python-xdg
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  python-pip*
0 upgraded, 0 newly installed, 1 to remove and 174 not upgraded.
After this operation, 808 kB disk space will be freed.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 98615 files and directories currently installed.)
Removing python-pip (18.1-5+rpt1) ...
Processing triggers for man-db (2.8.5-2) ...

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  python-cffi-backend python-cryptography python-keyring python-oauthlib
  python-openssl python-requests-oauthlib python-secretstorage python-twython
  python3-cffi-backend python3-cryptography python3-keyring python3-oauthlib
  python3-openssl python3-requests-oauthlib python3-secretstorage
  python3-twython
0 upgraded, 0 newly installed, 16 to remove and 174 not upgraded.
After this operation, 5,156 kB disk space will be freed.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 98462 files and directories currently installed.)
Removing python-keyring (17.1.1-1) ...
Removing python-secretstorage (2.3.1-2) ...
Removing python-openssl (19.0.0-1) ...
Removing python-twython (3.7.0-1) ...
Removing python-requests-oauthlib (1.0.0-0.1) ...
Removing python-oauthlib (2.1.0-1) ...
Removing python3-keyring (17.1.1-1) ...
Removing python3-secretstorage (2.3.1-2) ...
Removing python3-openssl (19.0.0-1) ...
Removing python3-twython (3.7.0-1) ...
Removing python3-requests-oauthlib (1.0.0-0.1) ...
Removing python3-oauthlib (2.1.0-1) ...
Removing python-cryptography (2.6.1-3+deb10u2) ...
Removing python-cffi-backend (1.12.2-1) ...
Removing python3-cryptography (2.6.1-3+deb10u2) ...
Removing python3-cffi-backend (1.12.2-1) ...
Processing triggers for man-db (2.8.5-2) ...
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
g++ set to manually installed.
gcc is already the newest version (4:8.3.0-1+rpi2).
gcc set to manually installed.
git is already the newest version (1:2.20.1-2+deb10u3).
logrotate is already the newest version (3.14.0-4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-dev set to manually installed.
python3-setuptools is already the newest version (40.8.0-1).
python3-setuptools set to manually installed.
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
wget is already the newest version (1.20.1-1.1).
wget set to manually installed.
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  libio-pty-perl libipc-run-perl libnginx-mod-http-auth-pam
  libnginx-mod-http-dav-ext libnginx-mod-http-echo libnginx-mod-http-geoip
  libnginx-mod-http-image-filter libnginx-mod-http-subs-filter
  libnginx-mod-http-upstream-fair libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libsigsegv2 nginx-common nginx-full
  python3-pylint-plugin-utils
Suggested packages:
  gawk-doc libtime-duration-perl libtimedate-perl fcgiwrap nginx-doc
  sqlite3-doc
The following NEW packages will be installed:
  gawk libffi-dev libi2c-dev libio-pty-perl libipc-run-perl
  libnginx-mod-http-auth-pam libnginx-mod-http-dav-ext libnginx-mod-http-echo
  libnginx-mod-http-geoip libnginx-mod-http-image-filter
  libnginx-mod-http-subs-filter libnginx-mod-http-upstream-fair
  libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream
  libsigsegv2 moreutils nginx nginx-common nginx-full python3-pylint-common
  python3-pylint-plugin-utils sqlite3
0 upgraded, 23 newly installed, 0 to remove and 174 not upgraded.
Need to get 3,523 kB of archives.
After this operation, 8,457 kB of additional disk space will be used.
Get:1 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libsigsegv2 armhf 2.12-2 [32.3 kB]
Get:2 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf gawk armhf 1:4.2.1+dfsg-1 [590 kB]
Get:3 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libffi-dev armhf 3.2.1-9 [159 kB]
Get:4 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libi2c-dev armhf 4.1-1 [11.9 kB]
Get:5 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libio-pty-perl armhf 1:1.08-1.1+b4 [33.0 kB]
Get:6 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libipc-run-perl all 20180523.0-1 [101 kB]
Get:7 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf nginx-common all 1.14.2-2+deb10u4 [121 kB]
Get:8 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-auth-pam armhf 1.14.2-2+deb10u4 [92.2 kB]
Get:9 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-dav-ext armhf 1.14.2-2+deb10u4 [98.9 kB]
Get:10 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-echo armhf 1.14.2-2+deb10u4 [102 kB]
Get:11 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-geoip armhf 1.14.2-2+deb10u4 [93.3 kB]
Get:12 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-image-filter armhf 1.14.2-2+deb10u4 [96.5 kB]
Get:13 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-subs-filter armhf 1.14.2-2+deb10u4 [95.2 kB]
Get:14 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-upstream-fair armhf 1.14.2-2+deb10u4 [95.4 kB]
Get:15 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-http-xslt-filter armhf 1.14.2-2+deb10u4 [94.9 kB]
Get:16 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-mail armhf 1.14.2-2+deb10u4 [120 kB]
Get:17 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf libnginx-mod-stream armhf 1.14.2-2+deb10u4 [138 kB]
Get:18 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf moreutils armhf 0.62-1+b1 [69.3 kB]
Get:19 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf nginx-full armhf 1.14.2-2+deb10u4 [441 kB]
Get:20 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf nginx all 1.14.2-2+deb10u4 [88.5 kB]
Get:21 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf python3-pylint-plugin-utils all 0.4-1 [5,640 B]
Get:22 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf python3-pylint-common all 0.2.5-2 [4,576 B]
Get:23 http://mirror.liquidtelecom.com/raspbian/raspbian buster/main armhf sqlite3 armhf 3.27.2-3+deb10u1 [839 kB]
Preconfiguring packages ...
Fetched 3,523 kB in 19s (185 kB/s)
Selecting previously unselected package libsigsegv2:armhf.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 97846 files and directories currently installed.)
Preparing to unpack .../libsigsegv2_2.12-2_armhf.deb ...
Unpacking libsigsegv2:armhf (2.12-2) ...
Setting up libsigsegv2:armhf (2.12-2) ...
Selecting previously unselected package gawk.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 97855 files and directories currently installed.)
Preparing to unpack .../00-gawk_1%3a4.2.1+dfsg-1_armhf.deb ...
Unpacking gawk (1:4.2.1+dfsg-1) ...
Selecting previously unselected package libffi-dev:armhf.
Preparing to unpack .../01-libffi-dev_3.2.1-9_armhf.deb ...
Unpacking libffi-dev:armhf (3.2.1-9) ...
Selecting previously unselected package libi2c-dev.
Preparing to unpack .../02-libi2c-dev_4.1-1_armhf.deb ...
Unpacking libi2c-dev (4.1-1) ...
Selecting previously unselected package libio-pty-perl.
Preparing to unpack .../03-libio-pty-perl_1%3a1.08-1.1+b4_armhf.deb ...
Unpacking libio-pty-perl (1:1.08-1.1+b4) ...
Selecting previously unselected package libipc-run-perl.
Preparing to unpack .../04-libipc-run-perl_20180523.0-1_all.deb ...
Unpacking libipc-run-perl (20180523.0-1) ...
Selecting previously unselected package nginx-common.
Preparing to unpack .../05-nginx-common_1.14.2-2+deb10u4_all.deb ...
Unpacking nginx-common (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-auth-pam.
Preparing to unpack .../06-libnginx-mod-http-auth-pam_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-auth-pam (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-dav-ext.
Preparing to unpack .../07-libnginx-mod-http-dav-ext_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-dav-ext (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-echo.
Preparing to unpack .../08-libnginx-mod-http-echo_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-echo (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-geoip.
Preparing to unpack .../09-libnginx-mod-http-geoip_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-geoip (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-image-filter.
Preparing to unpack .../10-libnginx-mod-http-image-filter_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-image-filter (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-subs-filter.
Preparing to unpack .../11-libnginx-mod-http-subs-filter_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-subs-filter (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-upstream-fair.
Preparing to unpack .../12-libnginx-mod-http-upstream-fair_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-upstream-fair (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-http-xslt-filter.
Preparing to unpack .../13-libnginx-mod-http-xslt-filter_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-http-xslt-filter (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-mail.
Preparing to unpack .../14-libnginx-mod-mail_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-mail (1.14.2-2+deb10u4) ...
Selecting previously unselected package libnginx-mod-stream.
Preparing to unpack .../15-libnginx-mod-stream_1.14.2-2+deb10u4_armhf.deb ...
Unpacking libnginx-mod-stream (1.14.2-2+deb10u4) ...
Selecting previously unselected package moreutils.
Preparing to unpack .../16-moreutils_0.62-1+b1_armhf.deb ...
Unpacking moreutils (0.62-1+b1) ...
Selecting previously unselected package nginx-full.
Preparing to unpack .../17-nginx-full_1.14.2-2+deb10u4_armhf.deb ...
Unpacking nginx-full (1.14.2-2+deb10u4) ...
Selecting previously unselected package nginx.
Preparing to unpack .../18-nginx_1.14.2-2+deb10u4_all.deb ...
Unpacking nginx (1.14.2-2+deb10u4) ...
Selecting previously unselected package python3-pylint-plugin-utils.
Preparing to unpack .../19-python3-pylint-plugin-utils_0.4-1_all.deb ...
Unpacking python3-pylint-plugin-utils (0.4-1) ...
Selecting previously unselected package python3-pylint-common.
Preparing to unpack .../20-python3-pylint-common_0.2.5-2_all.deb ...
Unpacking python3-pylint-common (0.2.5-2) ...
Selecting previously unselected package sqlite3.
Preparing to unpack .../21-sqlite3_3.27.2-3+deb10u1_armhf.deb ...
Unpacking sqlite3 (3.27.2-3+deb10u1) ...
Setting up libio-pty-perl (1:1.08-1.1+b4) ...
Setting up gawk (1:4.2.1+dfsg-1) ...
Setting up nginx-common (1.14.2-2+deb10u4) ...
Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.
Setting up libffi-dev:armhf (3.2.1-9) ...
Setting up libi2c-dev (4.1-1) ...
Setting up libnginx-mod-http-xslt-filter (1.14.2-2+deb10u4) ...
Setting up libnginx-mod-http-auth-pam (1.14.2-2+deb10u4) ...
Setting up libnginx-mod-http-geoip (1.14.2-2+deb10u4) ...
Setting up libipc-run-perl (20180523.0-1) ...
Setting up libnginx-mod-http-echo (1.14.2-2+deb10u4) ...
Setting up libnginx-mod-http-subs-filter (1.14.2-2+deb10u4) ...
Setting up python3-pylint-plugin-utils (0.4-1) ...
Setting up python3-pylint-common (0.2.5-2) ...
Setting up sqlite3 (3.27.2-3+deb10u1) ...
Setting up libnginx-mod-http-dav-ext (1.14.2-2+deb10u4) ...
Setting up libnginx-mod-mail (1.14.2-2+deb10u4) ...
Setting up moreutils (0.62-1+b1) ...
Setting up libnginx-mod-http-image-filter (1.14.2-2+deb10u4) ...
Setting up libnginx-mod-stream (1.14.2-2+deb10u4) ...
Setting up libnginx-mod-http-upstream-fair (1.14.2-2+deb10u4) ...
Setting up nginx-full (1.14.2-2+deb10u4) ...
Setting up nginx (1.14.2-2+deb10u4) ...
Processing triggers for systemd (241-7~deb10u7+rpi1) ...
Processing triggers for man-db (2.8.5-2) ...
Processing triggers for install-info (6.5.0.dfsg.1-4+b1) ...
Processing triggers for libc-bin (2.28-10+rpi1) ...
Searching for pip
Best match: pip 18.1
Adding pip 18.1 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.7 script to /usr/local/bin

Using /usr/lib/python3/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting pip
  Downloading https://files.pythonhosted.org/packages/4d/16/0a14ca596f30316efd412a60bdfac02a7259bf8673d4d917dc60b9a21812/pip-22.0.4-py3-none-any.whl (2.1MB)
Installing collected packages: pip
  Found existing installation: pip 18.1
    Not uninstalling pip at /usr/lib/python3/dist-packages, outside environment /usr
    Can't uninstall 'pip'. No files were found to uninstall.
Successfully installed pip-22.0.4

#### Checking python 3 virtualenv
#### Virtualenv doesn't exist. Creating...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting virtualenv==20.7.0
  Downloading https://www.piwheels.org/simple/virtualenv/virtualenv-20.7.0-py2.py3-none-any.whl (5.3 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  5.2/5.3 MB 46.0 kB/s eta 0:00:02
ERROR: THESE PACKAGES DO NOT MATCH THE HASHES FROM THE REQUIREMENTS FILE. If you have updated the package versions, please update the hashes. Otherwise, examine the package contents carefully; someone may have tampered with them.
    virtualenv==20.7.0 from https://www.piwheels.org/simple/virtualenv/virtualenv-20.7.0-py2.py3-none-any.whl#sha256=d76b0ad70212a7459f395da4f1bcd075b22f2b7e5839791e572b17812ee57c44:
        Expected sha256 d76b0ad70212a7459f395da4f1bcd075b22f2b7e5839791e572b17812ee57c44
             Got        4d0f8b02b194b34ff3ac8b37a7d6e04c4f1592508966d339a6c6ad9cf04678d6

/usr/bin/python3: No module named virtualenv

#### Updating pip
/home/pi/Mycodo/mycodo/scripts/upgrade_commands.sh: line 442: /home/pi/Mycodo/env/bin/python: No such file or directory

#### Installing pip requirements

## Error: Virtualenv doesn't exist. Create with /home/pi/Mycodo/mycodo/scripts/upgrade_commands.sh setup-virtualenv
--2022-03-28 19:45:30--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97% 70.6K 0s
    50K .                                                     100% 1974G=0.7s

2022-03-28 19:45:33 (72.0 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98301 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.50) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
#### Incorrect InfluxDB version (v(none)) installed. Installing v1.8.0-1...
Selecting previously unselected package influxdb.
(Reading database ... 98301 files and directories currently installed.)
Preparing to unpack influxdb_1.8.0_armhf.deb ...
Unpacking influxdb (1.8.0-1) ...
Setting up influxdb (1.8.0-1) ...
Created symlink /etc/systemd/system/influxd.service → /lib/systemd/system/influxdb.service.
Created symlink /etc/systemd/system/multi-user.target.wants/influxdb.service → /lib/systemd/system/influxdb.service.
Processing triggers for man-db (2.8.5-2) ...

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
Adding user `mycodo' to group `adm' ...
Adding user mycodo to group adm
Done.
Adding user `mycodo' to group `dialout' ...
Adding user mycodo to group dialout
Done.
Adding user `mycodo' to group `gpio' ...
Adding user mycodo to group gpio
Done.
Adding user `mycodo' to group `i2c' ...
Adding user mycodo to group i2c
Done.
Adding user `mycodo' to group `kmem' ...
Adding user mycodo to group kmem
Done.
Adding user `mycodo' to group `video' ...
Adding user mycodo to group video
Done.
Adding user `pi' to group `mycodo' ...
Adding user pi to group mycodo
Done.
Adding user `mycodo' to group `pi' ...
Adding user mycodo to group pi
Done.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
logrotate execution moved from cron.daily to cron.hourly
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
.........................................................++++
.........++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Failed to disable unit: Unit file mycodo.service does not exist.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
/home/pi/Mycodo/mycodo/scripts/upgrade_commands.sh: line 116: /home/pi/Mycodo/env/bin/pybabel: No such file or directory

#### Generating widget HTML files
/home/pi/Mycodo/mycodo/scripts/upgrade_commands.sh: line 179: /home/pi/Mycodo/env/bin/python: No such file or directory

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Failed to disable unit: Unit file mycodoflask.service does not exist.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...

#### Setting permissions

#### Restarting the Mycodo daemon
Job for mycodo.service failed because the control process exited with error code.
See "systemctl status mycodo.service" and "journalctl -xe" for details.
#### Mycodo Installer finished Mon 28 Mar 20:00:05 BST 2022
#### Total install time: 19 minutes and 44 seconds

*********************************
** Mycodo finished installing! **
*********************************

Although the install finished, it doesn't necessarily mean it installed correctly.
If you experience issues, review the full install log is located at:
/home/pi/Mycodo/install/setup.log

Go to https://192.168.8.171/, or whatever your Raspberry Pi's
IP address is, to create an admin user and log in.
### Mycodo installation initiated Mon 28 Mar 20:55:24 BST 2022
#### Mycodo installation began Mon 28 Mar 20:55:26 BST 2022

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap not currently set to 100 MB. Not changing.

#### Updating apt repositories
Hit:1 http://archive.raspberrypi.org/debian buster InRelease
Hit:2 http://raspbian.raspberrypi.org/raspbian buster InRelease
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
Package 'python-pip' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
Package 'python-cffi-backend' is not installed, so not removed
Package 'python3-cffi-backend' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
gawk is already the newest version (1:4.2.1+dfsg-1).
gcc is already the newest version (4:8.3.0-1+rpi2).
git is already the newest version (1:2.20.1-2+deb10u3).
libffi-dev is already the newest version (3.2.1-9).
libi2c-dev is already the newest version (4.1-1).
logrotate is already the newest version (3.14.0-4).
moreutils is already the newest version (0.62-1+b1).
nginx is already the newest version (1.14.2-2+deb10u4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-pylint-common is already the newest version (0.2.5-2).
python3-setuptools is already the newest version (40.8.0-1).
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
sqlite3 is already the newest version (3.27.2-3+deb10u1).
wget is already the newest version (1.20.1-1.1).
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.
Searching for pip
Best match: pip 22.0.4
Adding pip 22.0.4 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.9 script to /usr/local/bin

Using /usr/local/lib/python3.7/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (22.0.4)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

#### Checking python 3 virtualenv
#### Virtualenv doesn't exist. Creating...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: virtualenv==20.7.0 in /usr/local/lib/python3.7/dist-packages (20.7.0)
Requirement already satisfied: backports.entry-points-selectable>=1.0.4 in /usr/local/lib/python3.7/dist-packages (from virtualenv==20.7.0) (1.1.1)
Requirement already satisfied: filelock<4,>=3.0.0 in /usr/local/lib/python3.7/dist-packages (from virtualenv==20.7.0) (3.6.0)
Requirement already satisfied: six<2,>=1.9.0 in /usr/lib/python3/dist-packages (from virtualenv==20.7.0) (1.12.0)
Requirement already satisfied: platformdirs<3,>=2 in /usr/local/lib/python3.7/dist-packages (from virtualenv==20.7.0) (2.5.1)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from virtualenv==20.7.0) (4.11.3)
Requirement already satisfied: distlib<1,>=0.3.1 in /usr/local/lib/python3.7/dist-packages (from virtualenv==20.7.0) (0.3.4)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->virtualenv==20.7.0) (3.7.0)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->virtualenv==20.7.0) (4.1.1)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
created virtual environment CPython3.7.3.final.0-32 in 1988ms
  creator CPython3Posix(dest=/home/pi/Mycodo/env, clear=False, no_vcs_ignore=False, global=True)
  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/root/.local/share/virtualenv)
    added seed packages: pip==21.2.2, setuptools==57.4.0, wheel==0.36.2
  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (21.2.2)
Collecting pip
  Using cached https://www.piwheels.org/simple/pip/pip-22.0.4-py3-none-any.whl (2.1 MB)
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 21.2.2
    Uninstalling pip-21.2.2:
      Successfully uninstalled pip-21.2.2
Successfully installed pip-22.0.4

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (22.0.4)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (57.4.0)
Collecting setuptools
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-61.2.0-py3-none-any.whl (1.1 MB)
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 57.4.0
    Uninstalling setuptools-57.4.0:
      Successfully uninstalled setuptools-57.4.0
Successfully installed setuptools-61.2.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting alembic==1.5.8
  Downloading https://www.piwheels.org/simple/alembic/alembic-1.5.8-py2.py3-none-any.whl (159 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 159.6/159.6 KB 303.3 kB/s eta 0:00:00
Collecting argparse==1.4.0
  Using cached https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Collecting bcrypt==3.2.0
  Using cached https://www.piwheels.org/simple/bcrypt/bcrypt-3.2.0-cp37-cp37m-linux_armv7l.whl (57 kB)
Collecting daemonize==2.5.0
  Using cached https://www.piwheels.org/simple/daemonize/daemonize-2.5.0-py2.py3-none-any.whl (5.2 kB)
Collecting distro==1.5.0
  Downloading https://www.piwheels.org/simple/distro/distro-1.5.0-py2.py3-none-any.whl (18 kB)
Collecting email_validator==1.1.2
  Downloading https://www.piwheels.org/simple/email-validator/email_validator-1.1.2-py2.py3-none-any.whl (17 kB)
Collecting filelock==3.0.12
  Downloading https://www.piwheels.org/simple/filelock/filelock-3.0.12-py3-none-any.whl (7.6 kB)
Collecting Flask==1.1.2
  Downloading https://www.piwheels.org/simple/flask/Flask-1.1.2-py2.py3-none-any.whl (94 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 94.6/94.6 KB 51.6 kB/s eta 0:00:00
Collecting Flask_Accept==0.0.6
  Using cached https://www.piwheels.org/simple/flask-accept/flask_accept-0.0.6-py3-none-any.whl (3.8 kB)
Collecting Flask_Babel==2.0.0
  Using cached https://www.piwheels.org/simple/flask-babel/Flask_Babel-2.0.0-py3-none-any.whl (9.3 kB)
Collecting Flask_Compress==1.9.0
  Downloading https://www.piwheels.org/simple/flask-compress/Flask_Compress-1.9.0-py3-none-any.whl (9.6 kB)
Collecting Flask_Limiter==1.4
  Using cached https://www.piwheels.org/simple/flask-limiter/Flask_Limiter-1.4-py3-none-any.whl (15 kB)
Collecting Flask_Login==0.5.0
  Using cached https://www.piwheels.org/simple/flask-login/Flask_Login-0.5.0-py2.py3-none-any.whl (16 kB)
Collecting Flask_Marshmallow==0.14.0
  Using cached https://www.piwheels.org/simple/flask-marshmallow/flask_marshmallow-0.14.0-py2.py3-none-any.whl (10 kB)
Collecting Flask_RESTX==0.3.0
  Downloading https://www.piwheels.org/simple/flask-restx/flask_restx-0.3.0-py2.py3-none-any.whl (5.3 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.3/5.3 MB 613.5 kB/s eta 0:00:00
WARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ProtocolError('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))': /simple/flask-session/
Collecting Flask_Session==0.4.0
  Using cached https://www.piwheels.org/simple/flask-session/Flask_Session-0.4.0-py2.py3-none-any.whl (7.5 kB)
Collecting Flask_SQLAlchemy==2.5.1
  Using cached https://www.piwheels.org/simple/flask-sqlalchemy/Flask_SQLAlchemy-2.5.1-py2.py3-none-any.whl (17 kB)
Collecting Flask_Talisman==0.7.0
  Downloading https://www.piwheels.org/simple/flask-talisman/flask_talisman-0.7.0-py2.py3-none-any.whl (12 kB)
Collecting Flask_WTF==0.14.3
  Downloading https://www.piwheels.org/simple/flask-wtf/Flask_WTF-0.14.3-py2.py3-none-any.whl (13 kB)
Collecting geocoder==1.38.1
  Using cached https://www.piwheels.org/simple/geocoder/geocoder-1.38.1-py2.py3-none-any.whl (98 kB)
Collecting gunicorn==20.1.0
  Using cached https://www.piwheels.org/simple/gunicorn/gunicorn-20.1.0-py3-none-any.whl (81 kB)
Collecting influxdb==5.3.1
  Using cached https://www.piwheels.org/simple/influxdb/influxdb-5.3.1-py2.py3-none-any.whl (77 kB)
Collecting marshmallow_sqlalchemy==0.24.2
  Downloading https://www.piwheels.org/simple/marshmallow-sqlalchemy/marshmallow_sqlalchemy-0.24.2-py2.py3-none-any.whl (18 kB)
Collecting pyro5==5.12
  Using cached https://www.piwheels.org/simple/pyro5/Pyro5-5.12-py3-none-any.whl (77 kB)
Collecting pyserial==3.5
  Using cached https://www.piwheels.org/simple/pyserial/pyserial-3.5-py2.py3-none-any.whl (90 kB)
Collecting python-dateutil==2.8.1
  Downloading https://www.piwheels.org/simple/python-dateutil/python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 227.2/227.2 KB 375.3 kB/s eta 0:00:00
Collecting requests==2.25.1
  Downloading https://www.piwheels.org/simple/requests/requests-2.25.1-py2.py3-none-any.whl (61 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.2/61.2 KB 250.0 kB/s eta 0:00:00
Collecting setuptools==56.0.0
  Downloading https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 784.9/784.9 KB 425.4 kB/s eta 0:00:00
Collecting SQLAlchemy==1.4.7
  Downloading https://www.piwheels.org/simple/sqlalchemy/SQLAlchemy-1.4.7-cp37-cp37m-linux_armv7l.whl (1.5 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.5/1.5 MB 637.7 kB/s eta 0:00:00
Collecting Werkzeug==1.0.1
  Downloading https://www.piwheels.org/simple/werkzeug/Werkzeug-1.0.1-py2.py3-none-any.whl (298 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 298.6/298.6 KB 530.0 kB/s eta 0:00:00
Collecting WTForms==2.3.3
  Using cached https://www.piwheels.org/simple/wtforms/WTForms-2.3.3-py2.py3-none-any.whl (169 kB)
Collecting Mako
  Using cached https://www.piwheels.org/simple/mako/Mako-1.2.0-py3-none-any.whl (78 kB)
Collecting python-editor>=0.3
  Downloading https://www.piwheels.org/simple/python-editor/python_editor-1.0.4-py3-none-any.whl (4.9 kB)
Collecting cffi>=1.1
  Using cached https://www.piwheels.org/simple/cffi/cffi-1.15.0-cp37-cp37m-linux_armv7l.whl (346 kB)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Collecting dnspython>=1.15.0
  Using cached https://www.piwheels.org/simple/dnspython/dnspython-2.2.1-py3-none-any.whl (269 kB)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Requirement already satisfied: click>=5.1 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (7.0)
Collecting Jinja2>=2.10.1
  Using cached https://www.piwheels.org/simple/jinja2/Jinja2-3.1.1-py3-none-any.whl (132 kB)
Requirement already satisfied: itsdangerous>=0.24 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (0.24)
Collecting Babel>=2.3
  Using cached https://www.piwheels.org/simple/babel/Babel-2.9.1-py2.py3-none-any.whl (8.8 MB)
Collecting pytz
  Using cached https://www.piwheels.org/simple/pytz/pytz-2022.1-py3-none-any.whl (511 kB)
Collecting brotli
  Using cached https://www.piwheels.org/simple/brotli/Brotli-1.0.9-cp37-cp37m-linux_armv7l.whl (2.5 MB)
Collecting limits
  Using cached https://www.piwheels.org/simple/limits/limits-2.4.0-py3-none-any.whl (36 kB)
Collecting marshmallow>=2.0.0
  Using cached https://www.piwheels.org/simple/marshmallow/marshmallow-3.15.0-py3-none-any.whl (47 kB)
Collecting jsonschema
  Using cached https://www.piwheels.org/simple/jsonschema/jsonschema-4.4.0-py3-none-any.whl (72 kB)
Collecting aniso8601>=0.82
  Using cached https://www.piwheels.org/simple/aniso8601/aniso8601-9.0.1-py2.py3-none-any.whl (52 kB)
Collecting cachelib
  Using cached https://www.piwheels.org/simple/cachelib/cachelib-0.6.0-py3-none-any.whl (15 kB)
Collecting future
  Using cached https://www.piwheels.org/simple/future/future-0.18.2-py3-none-any.whl (491 kB)
Collecting ratelim
  Using cached https://www.piwheels.org/simple/ratelim/ratelim-0.1.6-py2.py3-none-any.whl (4.0 kB)
Collecting msgpack
  Using cached https://www.piwheels.org/simple/msgpack/msgpack-1.0.3-cp37-cp37m-linux_armv7l.whl (267 kB)
Collecting serpent>=1.27
  Using cached https://www.piwheels.org/simple/serpent/serpent-1.40-py3-none-any.whl (9.6 kB)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Collecting greenlet!=0.4.17
  Downloading https://www.piwheels.org/simple/greenlet/greenlet-1.1.2-cp37-cp37m-linux_armv7l.whl (161 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 161.2/161.2 KB 330.1 kB/s eta 0:00:00
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.11.3)
Requirement already satisfied: MarkupSafe in /usr/lib/python3/dist-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (1.1.0)
Collecting pycparser
  Using cached https://www.piwheels.org/simple/pycparser/pycparser-2.21-py2.py3-none-any.whl (119 kB)
Collecting MarkupSafe
  Using cached https://www.piwheels.org/simple/markupsafe/MarkupSafe-2.1.1-cp37-cp37m-linux_armv7l.whl (26 kB)
Collecting packaging
  Using cached https://www.piwheels.org/simple/packaging/packaging-21.3-py3-none-any.whl (40 kB)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.7.0)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.1.1)
Collecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0
  Using cached https://www.piwheels.org/simple/pyrsistent/pyrsistent-0.18.1-cp37-cp37m-linux_armv7l.whl (82 kB)
Collecting importlib-resources>=1.4.0
  Using cached https://www.piwheels.org/simple/importlib-resources/importlib_resources-5.6.0-py3-none-any.whl (28 kB)
Collecting attrs>=17.4.0
  Using cached https://www.piwheels.org/simple/attrs/attrs-21.4.0-py2.py3-none-any.whl (60 kB)
Collecting decorator
  Using cached https://www.piwheels.org/simple/decorator/decorator-5.1.1-py3-none-any.whl (10 kB)
Collecting pyparsing!=3.0.5,>=2.0.2
  Using cached https://www.piwheels.org/simple/pyparsing/pyparsing-3.0.7-py3-none-any.whl (98 kB)
Installing collected packages: pytz, python-editor, pyserial, msgpack, filelock, distro, daemonize, brotli, argparse, aniso8601, Werkzeug, setuptools, serpent, requests, python-dateutil, pyrsistent, pyparsing, pycparser, MarkupSafe, importlib-resources, greenlet, future, Flask_Talisman, dnspython, decorator, cachelib, Babel, attrs, WTForms, SQLAlchemy, ratelim, pyro5, packaging, Mako, limits, jsonschema, Jinja2, influxdb, gunicorn, email_validator, cffi, marshmallow, geocoder, Flask, bcrypt, alembic, marshmallow_sqlalchemy, Flask_WTF, Flask_SQLAlchemy, Flask_Session, Flask_RESTX, Flask_Marshmallow, Flask_Login, Flask_Limiter, Flask_Compress, Flask_Babel, Flask_Accept
  Attempting uninstall: pyserial
    Found existing installation: pyserial 3.4
    Not uninstalling pyserial at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'pyserial'. No files were found to uninstall.
  Attempting uninstall: filelock
    Found existing installation: filelock 3.6.0
    Not uninstalling filelock at /usr/local/lib/python3.7/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'filelock'. No files were found to uninstall.
  Attempting uninstall: Werkzeug
    Found existing installation: Werkzeug 0.14.1
    Not uninstalling werkzeug at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'Werkzeug'. No files were found to uninstall.
  Attempting uninstall: setuptools
    Found existing installation: setuptools 61.2.0
    Uninstalling setuptools-61.2.0:
      Successfully uninstalled setuptools-61.2.0
  Attempting uninstall: requests
    Found existing installation: requests 2.21.0
    Not uninstalling requests at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'requests'. No files were found to uninstall.
  Attempting uninstall: MarkupSafe
    Found existing installation: MarkupSafe 1.1.0
    Not uninstalling markupsafe at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'MarkupSafe'. No files were found to uninstall.
  Attempting uninstall: Jinja2
    Found existing installation: Jinja2 2.10
    Not uninstalling jinja2 at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'Jinja2'. No files were found to uninstall.
  Attempting uninstall: Flask
    Found existing installation: Flask 1.0.2
    Not uninstalling flask at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'Flask'. No files were found to uninstall.
Successfully installed Babel-2.9.1 Flask-1.1.2 Flask_Accept-0.0.6 Flask_Babel-2.0.0 Flask_Compress-1.9.0 Flask_Limiter-1.4 Flask_Login-0.5.0 Flask_Marshmallow-0.14.0 Flask_RESTX-0.3.0 Flask_SQLAlchemy-2.5.1 Flask_Session-0.4.0 Flask_Talisman-0.7.0 Flask_WTF-0.14.3 Jinja2-3.1.1 Mako-1.2.0 MarkupSafe-2.1.1 SQLAlchemy-1.4.7 WTForms-2.3.3 Werkzeug-1.0.1 alembic-1.5.8 aniso8601-9.0.1 argparse-1.4.0 attrs-21.4.0 bcrypt-3.2.0 brotli-1.0.9 cachelib-0.6.0 cffi-1.15.0 daemonize-2.5.0 decorator-5.1.1 distro-1.5.0 dnspython-2.2.1 email_validator-1.1.2 filelock-3.0.12 future-0.18.2 geocoder-1.38.1 greenlet-1.1.2 gunicorn-20.1.0 importlib-resources-5.6.0 influxdb-5.3.1 jsonschema-4.4.0 limits-2.4.0 marshmallow-3.15.0 marshmallow_sqlalchemy-0.24.2 msgpack-1.0.3 packaging-21.3 pycparser-2.21 pyparsing-3.0.7 pyro5-5.12 pyrsistent-0.18.1 pyserial-3.5 python-dateutil-2.8.1 python-editor-1.0.4 pytz-2022.1 ratelim-0.1.6 requests-2.25.1 serpent-1.40 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting pylibftdi==0.19.0
  Using cached https://www.piwheels.org/simple/pylibftdi/pylibftdi-0.19.0-py2.py3-none-any.whl (32 kB)
Requirement already satisfied: RPi.GPIO in /usr/lib/python3/dist-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.0)
Collecting RPi.GPIO
  Using cached https://www.piwheels.org/simple/rpi-gpio/RPi.GPIO-0.7.1-cp37-cp37m-linux_armv7l.whl (47 kB)
Collecting smbus2==0.4.1
  Using cached https://www.piwheels.org/simple/smbus2/smbus2-0.4.1-py2.py3-none-any.whl (11 kB)
Installing collected packages: smbus2, RPi.GPIO, pylibftdi
  Attempting uninstall: RPi.GPIO
    Found existing installation: RPi.GPIO 0.7.0
    Not uninstalling rpi-gpio at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'RPi.GPIO'. No files were found to uninstall.
Successfully installed RPi.GPIO-0.7.1 pylibftdi-0.19.0 smbus2-0.4.1
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting testfixtures==6.17.1
  Downloading https://www.piwheels.org/simple/testfixtures/testfixtures-6.17.1-py2.py3-none-any.whl (95 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 95.0/95.0 KB 122.7 kB/s eta 0:00:00
Collecting mock==4.0.3
  Using cached https://www.piwheels.org/simple/mock/mock-4.0.3-py3-none-any.whl (28 kB)
Collecting pytest==6.2.3
  Downloading https://www.piwheels.org/simple/pytest/pytest-6.2.3-py3-none-any.whl (280 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 280.5/280.5 KB 380.8 kB/s eta 0:00:00
Collecting factory_boy==3.2.0
  Using cached https://www.piwheels.org/simple/factory-boy/factory_boy-3.2.0-py2.py3-none-any.whl (35 kB)
Collecting webtest==2.0.35
  Downloading https://www.piwheels.org/simple/webtest/WebTest-2.0.35-py2.py3-none-any.whl (32 kB)
Collecting py>=1.8.2
  Using cached https://www.piwheels.org/simple/py/py-1.11.0-py2.py3-none-any.whl (98 kB)
Collecting toml
  Using cached https://www.piwheels.org/simple/toml/toml-0.10.2-py2.py3-none-any.whl (16 kB)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.3)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.11.3)
Collecting iniconfig
  Using cached https://www.piwheels.org/simple/iniconfig/iniconfig-1.1.1-py2.py3-none-any.whl (5.0 kB)
Collecting pluggy<1.0.0a1,>=0.12
  Downloading https://www.piwheels.org/simple/pluggy/pluggy-0.13.1-py2.py3-none-any.whl (18 kB)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.4.0)
Collecting Faker>=0.7.0
  Using cached Faker-13.3.4-py3-none-any.whl (1.5 MB)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Collecting waitress>=0.8.5
  Using cached https://www.piwheels.org/simple/waitress/waitress-2.1.1-py3-none-any.whl (57 kB)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Collecting WebOb>=1.2
  Using cached https://www.piwheels.org/simple/webob/WebOb-1.8.7-py2.py3-none-any.whl (114 kB)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (4.1.1)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.7.0)
Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.0.7)
Installing collected packages: testfixtures, iniconfig, WebOb, waitress, toml, py, mock, webtest, pluggy, Faker, pytest, factory_boy
Successfully installed Faker-13.3.4 WebOb-1.8.7 factory_boy-3.2.0 iniconfig-1.1.1 mock-4.0.3 pluggy-0.13.1 py-1.11.0 pytest-6.2.3 testfixtures-6.17.1 toml-0.10.2 waitress-2.1.1 webtest-2.0.35
--2022-03-28 20:59:48--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  130K 0s
    50K .                                                     100% 1974G=0.4s

2022-03-28 20:59:49 (133 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98349 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.52) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
Correct version of InfluxDB currently installed

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
..........................................................................................................................................................................++++
...............................................................................................................................................................++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Removed /etc/systemd/system/multi-user.target.wants/mycodo.service.
Removed /etc/systemd/system/mycodo.service.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files
Traceback (most recent call last):
  File "/home/pi/Mycodo/mycodo/utils/widget_generate_html.py", line 10, in <module>
    from mycodo.config import PATH_HTML_USER
  File "/home/pi/Mycodo/mycodo/config.py", line 10, in <module>
    from flask_babel import lazy_gettext
  File "/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_babel/__init__.py", line 15, in <module>
    from flask import current_app, request
  File "/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/__init__.py", line 14, in <module>
    from jinja2 import escape
ImportError: cannot import name 'escape' from 'jinja2' (/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/__init__.py)

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Removed /etc/systemd/system/mycodoflask.service.
Removed /etc/systemd/system/multi-user.target.wants/mycodoflask.service.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...

**********************************
** ERROR During Mycodo Install! **
**********************************

An error occurred that may have prevented Mycodo from
being installed properly!

Open to the end of the setup log to view the full error:
/home/pi/Mycodo/install/setup.log

Please contact the developer by submitting a bug report
at https://github.com/kizniche/Mycodo/issues with the
pertinent excerpts from the setup log located at:
/home/pi/Mycodo/install/setup.log
### Mycodo installation initiated Mon 28 Mar 21:04:27 BST 2022
#### Mycodo installation began Mon 28 Mar 21:04:30 BST 2022

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap not currently set to 100 MB. Not changing.

#### Updating apt repositories
Hit:1 http://raspbian.raspberrypi.org/raspbian buster InRelease
Hit:2 http://archive.raspberrypi.org/debian buster InRelease
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
Package 'python-pip' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
Package 'python-cffi-backend' is not installed, so not removed
Package 'python3-cffi-backend' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
gawk is already the newest version (1:4.2.1+dfsg-1).
gcc is already the newest version (4:8.3.0-1+rpi2).
git is already the newest version (1:2.20.1-2+deb10u3).
libffi-dev is already the newest version (3.2.1-9).
libi2c-dev is already the newest version (4.1-1).
logrotate is already the newest version (3.14.0-4).
moreutils is already the newest version (0.62-1+b1).
nginx is already the newest version (1.14.2-2+deb10u4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-pylint-common is already the newest version (0.2.5-2).
python3-setuptools is already the newest version (40.8.0-1).
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
sqlite3 is already the newest version (3.27.2-3+deb10u1).
wget is already the newest version (1.20.1-1.1).
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.
Searching for pip
Best match: pip 22.0.4
Adding pip 22.0.4 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.9 script to /usr/local/bin

Using /usr/local/lib/python3.7/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (22.0.4)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

#### Checking python 3 virtualenv
#### Virtualenv already exists, skipping creation

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (22.0.4)

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (22.0.4)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (56.0.0)
Collecting setuptools
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-61.2.0-py3-none-any.whl (1.1 MB)
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 56.0.0
    Uninstalling setuptools-56.0.0:
      Successfully uninstalled setuptools-56.0.0
Successfully installed setuptools-61.2.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: alembic==1.5.8 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.5.8)
Collecting argparse==1.4.0
  Using cached https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Requirement already satisfied: bcrypt==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 4)) (3.2.0)
Requirement already satisfied: daemonize==2.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 5)) (2.5.0)
Requirement already satisfied: distro==1.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 6)) (1.5.0)
Requirement already satisfied: email_validator==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 7)) (1.1.2)
Requirement already satisfied: filelock==3.0.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 8)) (3.0.12)
Requirement already satisfied: Flask==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 9)) (1.1.2)
Requirement already satisfied: Flask_Accept==0.0.6 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 10)) (0.0.6)
Requirement already satisfied: Flask_Babel==2.0.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.0.0)
Requirement already satisfied: Flask_Compress==1.9.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.9.0)
Requirement already satisfied: Flask_Limiter==1.4 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.4)
Requirement already satisfied: Flask_Login==0.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 14)) (0.5.0)
Requirement already satisfied: Flask_Marshmallow==0.14.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 15)) (0.14.0)
Requirement already satisfied: Flask_RESTX==0.3.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.3.0)
Requirement already satisfied: Flask_Session==0.4.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.0)
Requirement already satisfied: Flask_SQLAlchemy==2.5.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 19)) (2.5.1)
Requirement already satisfied: Flask_Talisman==0.7.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 20)) (0.7.0)
Requirement already satisfied: Flask_WTF==0.14.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 21)) (0.14.3)
Requirement already satisfied: geocoder==1.38.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 22)) (1.38.1)
Requirement already satisfied: gunicorn==20.1.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 23)) (20.1.0)
Requirement already satisfied: influxdb==5.3.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 24)) (5.3.1)
Requirement already satisfied: marshmallow_sqlalchemy==0.24.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 25)) (0.24.2)
Requirement already satisfied: pyro5==5.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 26)) (5.12)
Requirement already satisfied: pyserial==3.5 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 27)) (3.5)
Requirement already satisfied: python-dateutil==2.8.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 28)) (2.8.1)
Requirement already satisfied: requests==2.25.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 29)) (2.25.1)
Collecting setuptools==56.0.0
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
Requirement already satisfied: SQLAlchemy==1.4.7 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.4.7)
Requirement already satisfied: Werkzeug==1.0.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 32)) (1.0.1)
Requirement already satisfied: WTForms==2.3.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.3.3)
Requirement already satisfied: Mako in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.2.0)
Requirement already satisfied: python-editor>=0.3 in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.0.4)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Requirement already satisfied: cffi>=1.1 in ./env/lib/python3.7/site-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.15.0)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Requirement already satisfied: dnspython>=1.15.0 in ./env/lib/python3.7/site-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.2.1)
Requirement already satisfied: Jinja2>=2.10.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (3.1.1)
Requirement already satisfied: itsdangerous>=0.24 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (0.24)
Requirement already satisfied: click>=5.1 in /usr/lib/python3/dist-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (7.0)
Requirement already satisfied: Babel>=2.3 in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.9.1)
Requirement already satisfied: pytz in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2022.1)
Requirement already satisfied: brotli in ./env/lib/python3.7/site-packages (from Flask_Compress==1.9.0->-r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.0.9)
Requirement already satisfied: limits in ./env/lib/python3.7/site-packages (from Flask_Limiter==1.4->-r /home/pi/Mycodo/install/requirements.txt (line 13)) (2.4.0)
Requirement already satisfied: marshmallow>=2.0.0 in ./env/lib/python3.7/site-packages (from Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.15.0)
Requirement already satisfied: aniso8601>=0.82 in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (9.0.1)
Requirement already satisfied: jsonschema in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (4.4.0)
Requirement already satisfied: cachelib in ./env/lib/python3.7/site-packages (from Flask_Session==0.4.0->-r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.6.0)
Requirement already satisfied: ratelim in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.1.6)
Requirement already satisfied: future in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.18.2)
Requirement already satisfied: msgpack in ./env/lib/python3.7/site-packages (from influxdb==5.3.1->-r /home/pi/Mycodo/install/requirements.txt (line 24)) (1.0.3)
Requirement already satisfied: serpent>=1.27 in ./env/lib/python3.7/site-packages (from pyro5==5.12->-r /home/pi/Mycodo/install/requirements.txt (line 26)) (1.40)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: greenlet!=0.4.17 in ./env/lib/python3.7/site-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.1.2)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.11.3)
Requirement already satisfied: MarkupSafe in ./env/lib/python3.7/site-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.1.1)
Requirement already satisfied: pycparser in ./env/lib/python3.7/site-packages (from cffi>=1.1->bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (2.21)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from marshmallow>=2.0.0->Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (21.3)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.1.1)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.7.0)
Requirement already satisfied: importlib-resources>=1.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (5.6.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.18.1)
Requirement already satisfied: attrs>=17.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (21.4.0)
Requirement already satisfied: decorator in ./env/lib/python3.7/site-packages (from ratelim->geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (5.1.1)
Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->marshmallow>=2.0.0->Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.0.7)
Installing collected packages: argparse, setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 61.2.0
    Uninstalling setuptools-61.2.0:
      Successfully uninstalled setuptools-61.2.0
Successfully installed argparse-1.4.0 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pylibftdi==0.19.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 2)) (0.19.0)
Requirement already satisfied: RPi.GPIO in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.1)
Requirement already satisfied: smbus2==0.4.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 4)) (0.4.1)
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: testfixtures==6.17.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 2)) (6.17.1)
Requirement already satisfied: mock==4.0.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 3)) (4.0.3)
Requirement already satisfied: pytest==6.2.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (6.2.3)
Requirement already satisfied: factory_boy==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.2.0)
Requirement already satisfied: webtest==2.0.35 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.35)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.11.3)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.3)
Requirement already satisfied: py>=1.8.2 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.11.0)
Requirement already satisfied: iniconfig in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.1.1)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.4.0)
Requirement already satisfied: pluggy<1.0.0a1,>=0.12 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.13.1)
Requirement already satisfied: toml in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.10.2)
Requirement already satisfied: Faker>=0.7.0 in ./env/lib/python3.7/site-packages (from factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (13.3.4)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Requirement already satisfied: waitress>=0.8.5 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.1.1)
Requirement already satisfied: WebOb>=1.2 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.8.7)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (4.1.1)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.7.0)
Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.0.7)
--2022-03-28 21:06:35--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  133K 0s
    50K .                                                     100% 1974G=0.4s

2022-03-28 21:06:37 (136 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98349 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.52) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
Correct version of InfluxDB currently installed

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
..................................................................++++
..............................................................................................................................................................................................................................................................................................................................................................................++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Removed /etc/systemd/system/multi-user.target.wants/mycodo.service.
Removed /etc/systemd/system/mycodo.service.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files
Traceback (most recent call last):
  File "/home/pi/Mycodo/mycodo/utils/widget_generate_html.py", line 10, in <module>
    from mycodo.config import PATH_HTML_USER
  File "/home/pi/Mycodo/mycodo/config.py", line 10, in <module>
    from flask_babel import lazy_gettext
  File "/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_babel/__init__.py", line 15, in <module>
    from flask import current_app, request
  File "/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/__init__.py", line 14, in <module>
    from jinja2 import escape
ImportError: cannot import name 'escape' from 'jinja2' (/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/__init__.py)

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Removed /etc/systemd/system/mycodoflask.service.
Removed /etc/systemd/system/multi-user.target.wants/mycodoflask.service.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...

**********************************
** ERROR During Mycodo Install! **
**********************************

An error occurred that may have prevented Mycodo from
being installed properly!

Open to the end of the setup log to view the full error:
/home/pi/Mycodo/install/setup.log

Please contact the developer by submitting a bug report
at https://github.com/kizniche/Mycodo/issues with the
pertinent excerpts from the setup log located at:
/home/pi/Mycodo/install/setup.log
### Mycodo installation initiated Mon 28 Mar 21:20:11 BST 2022
#### Mycodo installation began Mon 28 Mar 21:20:13 BST 2022

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap not currently set to 100 MB. Not changing.

#### Updating apt repositories
Hit:1 http://archive.raspberrypi.org/debian buster InRelease
Hit:2 http://raspbian.raspberrypi.org/raspbian buster InRelease
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
Package 'python-pip' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
Package 'python-cffi-backend' is not installed, so not removed
Package 'python3-cffi-backend' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
gawk is already the newest version (1:4.2.1+dfsg-1).
gcc is already the newest version (4:8.3.0-1+rpi2).
git is already the newest version (1:2.20.1-2+deb10u3).
libffi-dev is already the newest version (3.2.1-9).
libi2c-dev is already the newest version (4.1-1).
logrotate is already the newest version (3.14.0-4).
moreutils is already the newest version (0.62-1+b1).
nginx is already the newest version (1.14.2-2+deb10u4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-pylint-common is already the newest version (0.2.5-2).
python3-setuptools is already the newest version (40.8.0-1).
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
sqlite3 is already the newest version (3.27.2-3+deb10u1).
wget is already the newest version (1.20.1-1.1).
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.
Searching for pip
Best match: pip 22.0.4
Adding pip 22.0.4 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.9 script to /usr/local/bin

Using /usr/local/lib/python3.7/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (22.0.4)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

#### Checking python 3 virtualenv
#### Virtualenv already exists, skipping creation

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (22.0.4)

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (22.0.4)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (58.2.0)
Collecting setuptools
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-61.2.0-py3-none-any.whl (1.1 MB)
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 58.2.0
    Uninstalling setuptools-58.2.0:
      Successfully uninstalled setuptools-58.2.0
Successfully installed setuptools-61.2.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting alembic==1.5.8
  Using cached https://www.piwheels.org/simple/alembic/alembic-1.5.8-py2.py3-none-any.whl (159 kB)
Collecting argparse==1.4.0
  Using cached https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Requirement already satisfied: bcrypt==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 4)) (3.2.0)
Requirement already satisfied: daemonize==2.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 5)) (2.5.0)
Collecting distro==1.5.0
  Using cached https://www.piwheels.org/simple/distro/distro-1.5.0-py2.py3-none-any.whl (18 kB)
Collecting email_validator==1.1.2
  Using cached https://www.piwheels.org/simple/email-validator/email_validator-1.1.2-py2.py3-none-any.whl (17 kB)
Collecting filelock==3.0.12
  Using cached https://www.piwheels.org/simple/filelock/filelock-3.0.12-py3-none-any.whl (7.6 kB)
Collecting Flask==1.1.2
  Using cached https://www.piwheels.org/simple/flask/Flask-1.1.2-py2.py3-none-any.whl (94 kB)
Requirement already satisfied: Flask_Accept==0.0.6 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 10)) (0.0.6)
Requirement already satisfied: Flask_Babel==2.0.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.0.0)
Collecting Flask_Compress==1.9.0
  Using cached https://www.piwheels.org/simple/flask-compress/Flask_Compress-1.9.0-py3-none-any.whl (9.6 kB)
Requirement already satisfied: Flask_Limiter==1.4 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.4)
Requirement already satisfied: Flask_Login==0.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 14)) (0.5.0)
Requirement already satisfied: Flask_Marshmallow==0.14.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 15)) (0.14.0)
Collecting Flask_RESTX==0.3.0
  Using cached https://www.piwheels.org/simple/flask-restx/flask_restx-0.3.0-py2.py3-none-any.whl (5.3 MB)
Requirement already satisfied: Flask_Session==0.4.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.0)
Requirement already satisfied: Flask_SQLAlchemy==2.5.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 19)) (2.5.1)
Collecting Flask_Talisman==0.7.0
  Using cached https://www.piwheels.org/simple/flask-talisman/flask_talisman-0.7.0-py2.py3-none-any.whl (12 kB)
Collecting Flask_WTF==0.14.3
  Using cached https://www.piwheels.org/simple/flask-wtf/Flask_WTF-0.14.3-py2.py3-none-any.whl (13 kB)
Requirement already satisfied: geocoder==1.38.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 22)) (1.38.1)
Requirement already satisfied: gunicorn==20.1.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 23)) (20.1.0)
Requirement already satisfied: influxdb==5.3.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 24)) (5.3.1)
Collecting marshmallow_sqlalchemy==0.24.2
  Using cached https://www.piwheels.org/simple/marshmallow-sqlalchemy/marshmallow_sqlalchemy-0.24.2-py2.py3-none-any.whl (18 kB)
Requirement already satisfied: pyro5==5.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 26)) (5.12)
Requirement already satisfied: pyserial==3.5 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 27)) (3.5)
Collecting python-dateutil==2.8.1
  Using cached https://www.piwheels.org/simple/python-dateutil/python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)
Collecting requests==2.25.1
  Using cached https://www.piwheels.org/simple/requests/requests-2.25.1-py2.py3-none-any.whl (61 kB)
Collecting setuptools==56.0.0
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
Collecting SQLAlchemy==1.4.7
  Using cached https://www.piwheels.org/simple/sqlalchemy/SQLAlchemy-1.4.7-cp37-cp37m-linux_armv7l.whl (1.5 MB)
Collecting Werkzeug==1.0.1
  Using cached https://www.piwheels.org/simple/werkzeug/Werkzeug-1.0.1-py2.py3-none-any.whl (298 kB)
Requirement already satisfied: WTForms==2.3.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.3.3)
Collecting python-editor>=0.3
  Using cached https://www.piwheels.org/simple/python-editor/python_editor-1.0.4-py3-none-any.whl (4.9 kB)
Requirement already satisfied: Mako in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.2.0)
Requirement already satisfied: cffi>=1.1 in ./env/lib/python3.7/site-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.15.0)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Requirement already satisfied: dnspython>=1.15.0 in ./env/lib/python3.7/site-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.2.1)
Requirement already satisfied: click>=5.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (8.1.0)
Requirement already satisfied: Jinja2>=2.10.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (3.1.1)
Requirement already satisfied: itsdangerous>=0.24 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (2.1.2)
Requirement already satisfied: pytz in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2022.1)
Requirement already satisfied: Babel>=2.3 in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.9.1)
Requirement already satisfied: brotli in ./env/lib/python3.7/site-packages (from Flask_Compress==1.9.0->-r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.0.9)
Requirement already satisfied: limits in ./env/lib/python3.7/site-packages (from Flask_Limiter==1.4->-r /home/pi/Mycodo/install/requirements.txt (line 13)) (2.4.0)
Requirement already satisfied: marshmallow>=2.0.0 in ./env/lib/python3.7/site-packages (from Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.15.0)
Requirement already satisfied: jsonschema in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (4.4.0)
Requirement already satisfied: aniso8601>=0.82 in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (9.0.1)
Requirement already satisfied: cachelib in ./env/lib/python3.7/site-packages (from Flask_Session==0.4.0->-r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.6.0)
Requirement already satisfied: ratelim in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.1.6)
Requirement already satisfied: future in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.18.2)
Requirement already satisfied: msgpack in ./env/lib/python3.7/site-packages (from influxdb==5.3.1->-r /home/pi/Mycodo/install/requirements.txt (line 24)) (1.0.3)
Requirement already satisfied: serpent>=1.27 in ./env/lib/python3.7/site-packages (from pyro5==5.12->-r /home/pi/Mycodo/install/requirements.txt (line 26)) (1.40)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Collecting greenlet!=0.4.17
  Using cached https://www.piwheels.org/simple/greenlet/greenlet-1.1.2-cp37-cp37m-linux_armv7l.whl (161 kB)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.11.3)
Requirement already satisfied: MarkupSafe in ./env/lib/python3.7/site-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.1.1)
Requirement already satisfied: pycparser in ./env/lib/python3.7/site-packages (from cffi>=1.1->bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (2.21)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from marshmallow>=2.0.0->Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (21.3)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.1.1)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.7.0)
Requirement already satisfied: attrs>=17.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (21.4.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.18.1)
Requirement already satisfied: importlib-resources>=1.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (5.6.0)
Requirement already satisfied: decorator in ./env/lib/python3.7/site-packages (from ratelim->geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (5.1.1)
Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->marshmallow>=2.0.0->Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.0.7)
Installing collected packages: python-editor, filelock, distro, argparse, Werkzeug, setuptools, requests, python-dateutil, greenlet, Flask_Talisman, email_validator, SQLAlchemy, marshmallow_sqlalchemy, Flask, alembic, Flask_WTF, Flask_RESTX, Flask_Compress
  Attempting uninstall: filelock
    Found existing installation: filelock 3.3.0
    Uninstalling filelock-3.3.0:
      Successfully uninstalled filelock-3.3.0
  Attempting uninstall: distro
    Found existing installation: distro 1.6.0
    Uninstalling distro-1.6.0:
      Successfully uninstalled distro-1.6.0
  Attempting uninstall: Werkzeug
    Found existing installation: Werkzeug 2.0.2
    Uninstalling Werkzeug-2.0.2:
      Successfully uninstalled Werkzeug-2.0.2
  Attempting uninstall: setuptools
    Found existing installation: setuptools 61.2.0
    Uninstalling setuptools-61.2.0:
      Successfully uninstalled setuptools-61.2.0
  Attempting uninstall: requests
    Found existing installation: requests 2.26.0
    Uninstalling requests-2.26.0:
      Successfully uninstalled requests-2.26.0
  Attempting uninstall: python-dateutil
    Found existing installation: python-dateutil 2.8.2
    Uninstalling python-dateutil-2.8.2:
      Successfully uninstalled python-dateutil-2.8.2
  Attempting uninstall: Flask_Talisman
    Found existing installation: flask-talisman 0.8.1
    Uninstalling flask-talisman-0.8.1:
      Successfully uninstalled flask-talisman-0.8.1
  Attempting uninstall: email_validator
    Found existing installation: email-validator 1.1.3
    Uninstalling email-validator-1.1.3:
      Successfully uninstalled email-validator-1.1.3
  Attempting uninstall: SQLAlchemy
    Found existing installation: SQLAlchemy 1.4.26
    Uninstalling SQLAlchemy-1.4.26:
      Successfully uninstalled SQLAlchemy-1.4.26
  Attempting uninstall: marshmallow_sqlalchemy
    Found existing installation: marshmallow-sqlalchemy 0.26.1
    Uninstalling marshmallow-sqlalchemy-0.26.1:
      Successfully uninstalled marshmallow-sqlalchemy-0.26.1
  Attempting uninstall: Flask
    Found existing installation: Flask 2.0.2
    Uninstalling Flask-2.0.2:
      Successfully uninstalled Flask-2.0.2
  Attempting uninstall: alembic
    Found existing installation: alembic 1.7.4
    Uninstalling alembic-1.7.4:
      Successfully uninstalled alembic-1.7.4
  Attempting uninstall: Flask_WTF
    Found existing installation: Flask-WTF 0.15.1
    Uninstalling Flask-WTF-0.15.1:
      Successfully uninstalled Flask-WTF-0.15.1
  Attempting uninstall: Flask_RESTX
    Found existing installation: flask-restx 0.5.1
    Uninstalling flask-restx-0.5.1:
      Successfully uninstalled flask-restx-0.5.1
  Attempting uninstall: Flask_Compress
    Found existing installation: Flask-Compress 1.10.1
    Uninstalling Flask-Compress-1.10.1:
      Successfully uninstalled Flask-Compress-1.10.1
Successfully installed Flask-1.1.2 Flask_Compress-1.9.0 Flask_RESTX-0.3.0 Flask_Talisman-0.7.0 Flask_WTF-0.14.3 SQLAlchemy-1.4.7 Werkzeug-1.0.1 alembic-1.5.8 argparse-1.4.0 distro-1.5.0 email_validator-1.1.2 filelock-3.0.12 greenlet-1.1.2 marshmallow_sqlalchemy-0.24.2 python-dateutil-2.8.1 python-editor-1.0.4 requests-2.25.1 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pylibftdi==0.19.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 2)) (0.19.0)
Requirement already satisfied: RPi.GPIO in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.1)
Requirement already satisfied: smbus2==0.4.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 4)) (0.4.1)
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting testfixtures==6.17.1
  Using cached https://www.piwheels.org/simple/testfixtures/testfixtures-6.17.1-py2.py3-none-any.whl (95 kB)
Requirement already satisfied: mock==4.0.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 3)) (4.0.3)
Collecting pytest==6.2.3
  Using cached https://www.piwheels.org/simple/pytest/pytest-6.2.3-py3-none-any.whl (280 kB)
Requirement already satisfied: factory_boy==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.2.0)
Collecting webtest==2.0.35
  Using cached https://www.piwheels.org/simple/webtest/WebTest-2.0.35-py2.py3-none-any.whl (32 kB)
Requirement already satisfied: iniconfig in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.1.1)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.4.0)
Requirement already satisfied: py>=1.8.2 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.11.0)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.11.3)
Requirement already satisfied: toml in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.10.2)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.3)
Collecting pluggy<1.0.0a1,>=0.12
  Using cached https://www.piwheels.org/simple/pluggy/pluggy-0.13.1-py2.py3-none-any.whl (18 kB)
Requirement already satisfied: Faker>=0.7.0 in ./env/lib/python3.7/site-packages (from factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (13.3.4)
Requirement already satisfied: waitress>=0.8.5 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.1.1)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Requirement already satisfied: WebOb>=1.2 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.8.7)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (4.1.1)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.7.0)
Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.0.7)
Installing collected packages: testfixtures, webtest, pluggy, pytest
  Attempting uninstall: testfixtures
    Found existing installation: testfixtures 6.18.3
    Uninstalling testfixtures-6.18.3:
      Successfully uninstalled testfixtures-6.18.3
  Attempting uninstall: webtest
    Found existing installation: WebTest 3.0.0
    Uninstalling WebTest-3.0.0:
      Successfully uninstalled WebTest-3.0.0
  Attempting uninstall: pluggy
    Found existing installation: pluggy 1.0.0
    Uninstalling pluggy-1.0.0:
      Successfully uninstalled pluggy-1.0.0
  Attempting uninstall: pytest
    Found existing installation: pytest 6.2.5
    Uninstalling pytest-6.2.5:
      Successfully uninstalled pytest-6.2.5
Successfully installed pluggy-0.13.1 pytest-6.2.3 testfixtures-6.17.1 webtest-2.0.35
--2022-03-28 21:22:53--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  127K 0s
    50K .                                                     100% 1974G=0.4s

2022-03-28 21:22:54 (130 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98349 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.52) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
Correct version of InfluxDB currently installed

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
.....................................................++++
........................++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Removed /etc/systemd/system/multi-user.target.wants/mycodo.service.
Removed /etc/systemd/system/mycodo.service.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files
Traceback (most recent call last):
  File "/home/pi/Mycodo/mycodo/utils/widget_generate_html.py", line 10, in <module>
    from mycodo.config import PATH_HTML_USER
  File "/home/pi/Mycodo/mycodo/config.py", line 10, in <module>
    from flask_babel import lazy_gettext
  File "/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_babel/__init__.py", line 15, in <module>
    from flask import current_app, request
  File "/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/__init__.py", line 14, in <module>
    from jinja2 import escape
ImportError: cannot import name 'escape' from 'jinja2' (/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/__init__.py)

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Removed /etc/systemd/system/mycodoflask.service.
Removed /etc/systemd/system/multi-user.target.wants/mycodoflask.service.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...

**********************************
** ERROR During Mycodo Install! **
**********************************

An error occurred that may have prevented Mycodo from
being installed properly!

Open to the end of the setup log to view the full error:
/home/pi/Mycodo/install/setup.log

Please contact the developer by submitting a bug report
at https://github.com/kizniche/Mycodo/issues with the
pertinent excerpts from the setup log located at:
/home/pi/Mycodo/install/setup.log
### Mycodo installation initiated Mon 28 Mar 21:37:08 BST 2022
#### Mycodo installation began Mon 28 Mar 21:37:12 BST 2022

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap not currently set to 100 MB. Not changing.

#### Updating apt repositories
Hit:1 http://raspbian.raspberrypi.org/raspbian buster InRelease
Hit:2 http://archive.raspberrypi.org/debian buster InRelease
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
Package 'python-pip' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
Package 'python-cffi-backend' is not installed, so not removed
Package 'python3-cffi-backend' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
gawk is already the newest version (1:4.2.1+dfsg-1).
gcc is already the newest version (4:8.3.0-1+rpi2).
git is already the newest version (1:2.20.1-2+deb10u3).
libffi-dev is already the newest version (3.2.1-9).
libi2c-dev is already the newest version (4.1-1).
logrotate is already the newest version (3.14.0-4).
moreutils is already the newest version (0.62-1+b1).
nginx is already the newest version (1.14.2-2+deb10u4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-pylint-common is already the newest version (0.2.5-2).
python3-setuptools is already the newest version (40.8.0-1).
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
sqlite3 is already the newest version (3.27.2-3+deb10u1).
wget is already the newest version (1.20.1-1.1).
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.
Searching for pip
Best match: pip 22.0.4
Adding pip 22.0.4 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.9 script to /usr/local/bin

Using /usr/local/lib/python3.7/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (22.0.4)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

#### Checking python 3 virtualenv
#### Virtualenv already exists, skipping creation

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (22.0.4)

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (22.0.4)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (56.0.0)
Collecting setuptools
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-61.2.0-py3-none-any.whl (1.1 MB)
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 56.0.0
    Uninstalling setuptools-56.0.0:
      Successfully uninstalled setuptools-56.0.0
Successfully installed setuptools-61.2.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: alembic==1.5.8 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.5.8)
Collecting argparse==1.4.0
  Using cached https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Requirement already satisfied: bcrypt==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 4)) (3.2.0)
Requirement already satisfied: daemonize==2.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 5)) (2.5.0)
Requirement already satisfied: distro==1.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 6)) (1.5.0)
Requirement already satisfied: email_validator==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 7)) (1.1.2)
Requirement already satisfied: filelock==3.0.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 8)) (3.0.12)
Requirement already satisfied: Flask==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 9)) (1.1.2)
Requirement already satisfied: Flask_Accept==0.0.6 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 10)) (0.0.6)
Requirement already satisfied: Flask_Babel==2.0.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.0.0)
Requirement already satisfied: Flask_Compress==1.9.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.9.0)
Requirement already satisfied: Flask_Limiter==1.4 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.4)
Requirement already satisfied: Flask_Login==0.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 14)) (0.5.0)
Requirement already satisfied: Flask_Marshmallow==0.14.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 15)) (0.14.0)
Requirement already satisfied: Flask_RESTX==0.3.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.3.0)
Requirement already satisfied: Flask_Session==0.4.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.0)
Requirement already satisfied: Flask_SQLAlchemy==2.5.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 19)) (2.5.1)
Requirement already satisfied: Flask_Talisman==0.7.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 20)) (0.7.0)
Requirement already satisfied: Flask_WTF==0.14.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 21)) (0.14.3)
Requirement already satisfied: geocoder==1.38.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 22)) (1.38.1)
Requirement already satisfied: gunicorn==20.1.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 23)) (20.1.0)
Requirement already satisfied: influxdb==5.3.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 24)) (5.3.1)
Requirement already satisfied: marshmallow_sqlalchemy==0.24.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 25)) (0.24.2)
Requirement already satisfied: pyro5==5.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 26)) (5.12)
Requirement already satisfied: pyserial==3.5 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 27)) (3.5)
Requirement already satisfied: python-dateutil==2.8.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 28)) (2.8.1)
Requirement already satisfied: requests==2.25.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 29)) (2.25.1)
Collecting setuptools==56.0.0
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
Requirement already satisfied: SQLAlchemy==1.4.7 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.4.7)
Requirement already satisfied: Werkzeug==1.0.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 32)) (1.0.1)
Requirement already satisfied: WTForms==2.3.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.3.3)
Requirement already satisfied: python-editor>=0.3 in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.0.4)
Requirement already satisfied: Mako in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.2.0)
Requirement already satisfied: cffi>=1.1 in ./env/lib/python3.7/site-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.15.0)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Requirement already satisfied: dnspython>=1.15.0 in ./env/lib/python3.7/site-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.2.1)
Collecting Jinja2>=2.10.1
  Using cached https://www.piwheels.org/simple/jinja2/Jinja2-3.1.1-py3-none-any.whl (132 kB)
Requirement already satisfied: click>=5.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (8.1.0)
Requirement already satisfied: itsdangerous>=0.24 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (2.1.2)
Requirement already satisfied: Babel>=2.3 in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.9.1)
Requirement already satisfied: pytz in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2022.1)
Requirement already satisfied: brotli in ./env/lib/python3.7/site-packages (from Flask_Compress==1.9.0->-r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.0.9)
Requirement already satisfied: limits in ./env/lib/python3.7/site-packages (from Flask_Limiter==1.4->-r /home/pi/Mycodo/install/requirements.txt (line 13)) (2.4.0)
Requirement already satisfied: marshmallow>=2.0.0 in ./env/lib/python3.7/site-packages (from Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.15.0)
Requirement already satisfied: jsonschema in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (4.4.0)
Requirement already satisfied: aniso8601>=0.82 in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (9.0.1)
Requirement already satisfied: cachelib in ./env/lib/python3.7/site-packages (from Flask_Session==0.4.0->-r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.6.0)
Requirement already satisfied: ratelim in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.1.6)
Requirement already satisfied: future in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.18.2)
Requirement already satisfied: msgpack in ./env/lib/python3.7/site-packages (from influxdb==5.3.1->-r /home/pi/Mycodo/install/requirements.txt (line 24)) (1.0.3)
Requirement already satisfied: serpent>=1.27 in ./env/lib/python3.7/site-packages (from pyro5==5.12->-r /home/pi/Mycodo/install/requirements.txt (line 26)) (1.40)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Requirement already satisfied: greenlet!=0.4.17 in ./env/lib/python3.7/site-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.1.2)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.11.3)
Requirement already satisfied: MarkupSafe in ./env/lib/python3.7/site-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.1.1)
Requirement already satisfied: pycparser in ./env/lib/python3.7/site-packages (from cffi>=1.1->bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (2.21)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from marshmallow>=2.0.0->Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (21.3)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.1.1)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.7.0)
Requirement already satisfied: attrs>=17.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (21.4.0)
Requirement already satisfied: importlib-resources>=1.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (5.6.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.18.1)
Requirement already satisfied: decorator in ./env/lib/python3.7/site-packages (from ratelim->geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (5.1.1)
Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->marshmallow>=2.0.0->Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.0.7)
Installing collected packages: argparse, setuptools, Jinja2
  Attempting uninstall: setuptools
    Found existing installation: setuptools 61.2.0
    Uninstalling setuptools-61.2.0:
      Successfully uninstalled setuptools-61.2.0
  Attempting uninstall: Jinja2
    Found existing installation: Jinja2 2.10
    Not uninstalling jinja2 at /usr/lib/python3/dist-packages, outside environment /home/pi/Mycodo/env
    Can't uninstall 'Jinja2'. No files were found to uninstall.
Successfully installed Jinja2-3.1.1 argparse-1.4.0 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pylibftdi==0.19.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 2)) (0.19.0)
Requirement already satisfied: RPi.GPIO in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.1)
Requirement already satisfied: smbus2==0.4.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 4)) (0.4.1)
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: testfixtures==6.17.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 2)) (6.17.1)
Requirement already satisfied: mock==4.0.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 3)) (4.0.3)
Requirement already satisfied: pytest==6.2.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (6.2.3)
Requirement already satisfied: factory_boy==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.2.0)
Requirement already satisfied: webtest==2.0.35 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.35)
Requirement already satisfied: toml in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.10.2)
Requirement already satisfied: py>=1.8.2 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.11.0)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.11.3)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.3)
Requirement already satisfied: pluggy<1.0.0a1,>=0.12 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.13.1)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.4.0)
Requirement already satisfied: iniconfig in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.1.1)
Requirement already satisfied: Faker>=0.7.0 in ./env/lib/python3.7/site-packages (from factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (13.3.4)
Requirement already satisfied: WebOb>=1.2 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.8.7)
Requirement already satisfied: waitress>=0.8.5 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.1.1)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (4.1.1)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.7.0)
Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.0.7)
--2022-03-28 21:39:33--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  126K 0s
    50K .                                                     100% 1974G=0.4s

2022-03-28 21:39:34 (128 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98349 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.52) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
Correct version of InfluxDB currently installed

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
.....................................++++
...............................................................................++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Removed /etc/systemd/system/multi-user.target.wants/mycodo.service.
Removed /etc/systemd/system/mycodo.service.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files
Traceback (most recent call last):
  File "/home/pi/Mycodo/mycodo/utils/widget_generate_html.py", line 10, in <module>
    from mycodo.config import PATH_HTML_USER
  File "/home/pi/Mycodo/mycodo/config.py", line 10, in <module>
    from flask_babel import lazy_gettext
  File "/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_babel/__init__.py", line 15, in <module>
    from flask import current_app, request
  File "/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/__init__.py", line 14, in <module>
    from jinja2 import escape
ImportError: cannot import name 'escape' from 'jinja2' (/home/pi/Mycodo/env/lib/python3.7/site-packages/jinja2/__init__.py)

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Removed /etc/systemd/system/mycodoflask.service.
Removed /etc/systemd/system/multi-user.target.wants/mycodoflask.service.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...

**********************************
** ERROR During Mycodo Install! **
**********************************

An error occurred that may have prevented Mycodo from
being installed properly!

Open to the end of the setup log to view the full error:
/home/pi/Mycodo/install/setup.log

Please contact the developer by submitting a bug report
at https://github.com/kizniche/Mycodo/issues with the
pertinent excerpts from the setup log located at:
/home/pi/Mycodo/install/setup.log
### Mycodo installation initiated Mon 28 Mar 21:44:28 BST 2022
#### Mycodo installation began Mon 28 Mar 21:44:30 BST 2022

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap not currently set to 100 MB. Not changing.

#### Updating apt repositories
Hit:1 http://raspbian.raspberrypi.org/raspbian buster InRelease
Hit:2 http://archive.raspberrypi.org/debian buster InRelease
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
Package 'python-pip' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
Package 'python-cffi-backend' is not installed, so not removed
Package 'python3-cffi-backend' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
gawk is already the newest version (1:4.2.1+dfsg-1).
gcc is already the newest version (4:8.3.0-1+rpi2).
git is already the newest version (1:2.20.1-2+deb10u3).
libffi-dev is already the newest version (3.2.1-9).
libi2c-dev is already the newest version (4.1-1).
logrotate is already the newest version (3.14.0-4).
moreutils is already the newest version (0.62-1+b1).
nginx is already the newest version (1.14.2-2+deb10u4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-pylint-common is already the newest version (0.2.5-2).
python3-setuptools is already the newest version (40.8.0-1).
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
sqlite3 is already the newest version (3.27.2-3+deb10u1).
wget is already the newest version (1.20.1-1.1).
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.
Searching for pip
Best match: pip 22.0.4
Adding pip 22.0.4 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.9 script to /usr/local/bin

Using /usr/local/lib/python3.7/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (22.0.4)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

#### Checking python 3 virtualenv
#### Virtualenv already exists, skipping creation

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (22.0.4)

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (22.0.4)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (56.0.0)
Collecting setuptools
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-61.2.0-py3-none-any.whl (1.1 MB)
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 56.0.0
    Uninstalling setuptools-56.0.0:
      Successfully uninstalled setuptools-56.0.0
Successfully installed setuptools-61.2.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: alembic==1.5.8 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.5.8)
Collecting argparse==1.4.0
  Using cached https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Requirement already satisfied: bcrypt==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 4)) (3.2.0)
Requirement already satisfied: daemonize==2.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 5)) (2.5.0)
Requirement already satisfied: distro==1.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 6)) (1.5.0)
Requirement already satisfied: email_validator==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 7)) (1.1.2)
Requirement already satisfied: filelock==3.0.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 8)) (3.0.12)
Requirement already satisfied: Flask==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 9)) (1.1.2)
Requirement already satisfied: Flask_Accept==0.0.6 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 10)) (0.0.6)
Requirement already satisfied: Flask_Babel==2.0.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.0.0)
Requirement already satisfied: Flask_Compress==1.9.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.9.0)
Requirement already satisfied: Flask_Limiter==1.4 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.4)
Requirement already satisfied: Flask_Login==0.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 14)) (0.5.0)
Requirement already satisfied: Flask_Marshmallow==0.14.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 15)) (0.14.0)
Requirement already satisfied: Flask_RESTX==0.3.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.3.0)
Requirement already satisfied: Flask_Session==0.4.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.0)
Requirement already satisfied: Flask_SQLAlchemy==2.5.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 19)) (2.5.1)
Requirement already satisfied: Flask_Talisman==0.7.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 20)) (0.7.0)
Requirement already satisfied: Flask_WTF==0.14.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 21)) (0.14.3)
Requirement already satisfied: geocoder==1.38.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 22)) (1.38.1)
Requirement already satisfied: gunicorn==20.1.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 23)) (20.1.0)
Requirement already satisfied: influxdb==5.3.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 24)) (5.3.1)
Requirement already satisfied: marshmallow_sqlalchemy==0.24.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 25)) (0.24.2)
Requirement already satisfied: pyro5==5.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 26)) (5.12)
Requirement already satisfied: pyserial==3.5 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 27)) (3.5)
Requirement already satisfied: python-dateutil==2.8.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 28)) (2.8.1)
Requirement already satisfied: requests==2.25.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 29)) (2.25.1)
Collecting setuptools==56.0.0
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
Requirement already satisfied: SQLAlchemy==1.4.7 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.4.7)
Requirement already satisfied: Werkzeug==1.0.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 32)) (1.0.1)
Requirement already satisfied: WTForms==2.3.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.3.3)
Requirement already satisfied: python-editor>=0.3 in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.0.4)
Requirement already satisfied: Mako in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.2.0)
Requirement already satisfied: cffi>=1.1 in ./env/lib/python3.7/site-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.15.0)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Requirement already satisfied: dnspython>=1.15.0 in ./env/lib/python3.7/site-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.2.1)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Requirement already satisfied: Jinja2>=2.10.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (3.0.3)
Requirement already satisfied: itsdangerous>=0.24 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (2.1.2)
Requirement already satisfied: click>=5.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (8.1.0)
Requirement already satisfied: Babel>=2.3 in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.9.1)
Requirement already satisfied: pytz in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2022.1)
Requirement already satisfied: brotli in ./env/lib/python3.7/site-packages (from Flask_Compress==1.9.0->-r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.0.9)
Requirement already satisfied: limits in ./env/lib/python3.7/site-packages (from Flask_Limiter==1.4->-r /home/pi/Mycodo/install/requirements.txt (line 13)) (2.4.0)
Requirement already satisfied: marshmallow>=2.0.0 in ./env/lib/python3.7/site-packages (from Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.15.0)
Requirement already satisfied: jsonschema in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (4.4.0)
Requirement already satisfied: aniso8601>=0.82 in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (9.0.1)
Requirement already satisfied: cachelib in ./env/lib/python3.7/site-packages (from Flask_Session==0.4.0->-r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.6.0)
Requirement already satisfied: future in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.18.2)
Requirement already satisfied: ratelim in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.1.6)
Requirement already satisfied: msgpack in ./env/lib/python3.7/site-packages (from influxdb==5.3.1->-r /home/pi/Mycodo/install/requirements.txt (line 24)) (1.0.3)
Requirement already satisfied: serpent>=1.27 in ./env/lib/python3.7/site-packages (from pyro5==5.12->-r /home/pi/Mycodo/install/requirements.txt (line 26)) (1.40)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.11.3)
Requirement already satisfied: greenlet!=0.4.17 in ./env/lib/python3.7/site-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.1.2)
Requirement already satisfied: MarkupSafe in ./env/lib/python3.7/site-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.1.1)
Requirement already satisfied: pycparser in ./env/lib/python3.7/site-packages (from cffi>=1.1->bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (2.21)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from marshmallow>=2.0.0->Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (21.3)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.1.1)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.7.0)
Requirement already satisfied: attrs>=17.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (21.4.0)
Requirement already satisfied: importlib-resources>=1.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (5.6.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.18.1)
Requirement already satisfied: decorator in ./env/lib/python3.7/site-packages (from ratelim->geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (5.1.1)
Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->marshmallow>=2.0.0->Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.0.7)
Installing collected packages: argparse, setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 61.2.0
    Uninstalling setuptools-61.2.0:
      Successfully uninstalled setuptools-61.2.0
Successfully installed argparse-1.4.0 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pylibftdi==0.19.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 2)) (0.19.0)
Requirement already satisfied: RPi.GPIO in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.1)
Requirement already satisfied: smbus2==0.4.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 4)) (0.4.1)
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: testfixtures==6.17.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 2)) (6.17.1)
Requirement already satisfied: mock==4.0.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 3)) (4.0.3)
Requirement already satisfied: pytest==6.2.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (6.2.3)
Requirement already satisfied: factory_boy==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.2.0)
Requirement already satisfied: webtest==2.0.35 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.35)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.11.3)
Requirement already satisfied: toml in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.10.2)
Requirement already satisfied: iniconfig in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.1.1)
Requirement already satisfied: pluggy<1.0.0a1,>=0.12 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.13.1)
Requirement already satisfied: py>=1.8.2 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.11.0)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.3)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.4.0)
Requirement already satisfied: Faker>=0.7.0 in ./env/lib/python3.7/site-packages (from factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (13.3.4)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Requirement already satisfied: waitress>=0.8.5 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.1.1)
Requirement already satisfied: WebOb>=1.2 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.8.7)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (4.1.1)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.7.0)
Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.0.7)
--2022-03-28 21:46:38--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  130K 0s
    50K .                                                     100% 1974G=0.4s

2022-03-28 21:46:40 (132 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98349 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.52) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
Correct version of InfluxDB currently installed

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
.............................................................++++
................................................................++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Removed /etc/systemd/system/multi-user.target.wants/mycodo.service.
Removed /etc/systemd/system/mycodo.service.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files
Traceback (most recent call last):
  File "/home/pi/Mycodo/mycodo/utils/widget_generate_html.py", line 10, in <module>
    from mycodo.config import PATH_HTML_USER
  File "/home/pi/Mycodo/mycodo/config.py", line 10, in <module>
    from flask_babel import lazy_gettext
  File "/home/pi/Mycodo/env/lib/python3.7/site-packages/flask_babel/__init__.py", line 15, in <module>
    from flask import current_app, request
  File "/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/__init__.py", line 19, in <module>
    from . import json
  File "/home/pi/Mycodo/env/lib/python3.7/site-packages/flask/json/__init__.py", line 15, in <module>
    from itsdangerous import json as _json
ImportError: cannot import name 'json' from 'itsdangerous' (/home/pi/Mycodo/env/lib/python3.7/site-packages/itsdangerous/__init__.py)

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Removed /etc/systemd/system/mycodoflask.service.
Removed /etc/systemd/system/multi-user.target.wants/mycodoflask.service.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...

**********************************
** ERROR During Mycodo Install! **
**********************************

An error occurred that may have prevented Mycodo from
being installed properly!

Open to the end of the setup log to view the full error:
/home/pi/Mycodo/install/setup.log

Please contact the developer by submitting a bug report
at https://github.com/kizniche/Mycodo/issues with the
pertinent excerpts from the setup log located at:
/home/pi/Mycodo/install/setup.log
### Mycodo installation initiated Mon 28 Mar 21:49:52 BST 2022
#### Mycodo installation began Mon 28 Mar 21:49:54 BST 2022

#### Checking if swap size is 100 MB and needs to be changed to 512 MB
#### Swap not currently set to 100 MB. Not changing.

#### Updating apt repositories
Hit:1 http://raspbian.raspberrypi.org/raspbian buster InRelease
Hit:2 http://archive.raspberrypi.org/debian buster InRelease
Reading package lists...

#### Uninstalling apt version of pip (if installed)
Reading package lists...
Building dependency tree...
Reading state information...
Package 'python-pip' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.

#### Installing prerequisite apt packages and update pip
Reading package lists...
Building dependency tree...
Reading state information...
Package 'apache2' is not installed, so not removed
Package 'python-cffi-backend' is not installed, so not removed
Package 'python3-cffi-backend' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
g++ is already the newest version (4:8.3.0-1+rpi2).
gawk is already the newest version (1:4.2.1+dfsg-1).
gcc is already the newest version (4:8.3.0-1+rpi2).
git is already the newest version (1:2.20.1-2+deb10u3).
libffi-dev is already the newest version (3.2.1-9).
libi2c-dev is already the newest version (4.1-1).
logrotate is already the newest version (3.14.0-4).
moreutils is already the newest version (0.62-1+b1).
nginx is already the newest version (1.14.2-2+deb10u4).
python3 is already the newest version (3.7.3-1).
python3-dev is already the newest version (3.7.3-1).
python3-pylint-common is already the newest version (0.2.5-2).
python3-setuptools is already the newest version (40.8.0-1).
python3-smbus is already the newest version (4.1-1).
rng-tools is already the newest version (2-unofficial-mt.14-1).
sqlite3 is already the newest version (3.27.2-3+deb10u1).
wget is already the newest version (1.20.1-1.1).
The following packages were automatically installed and are no longer required:
  libjs-sphinxdoc libjs-underscore libpython-all-dev python-all python-all-dev
  python-asn1crypto python-configparser python-cookies python-crypto
  python-dbus python-entrypoints python-enum34 python-funcsigs python-jwt
  python-keyrings.alt python-mock python-pbr python-responses python-wheel
  python-xdg python3-asn1crypto python3-cookies python3-entrypoints
  python3-jwt python3-responses
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 174 not upgraded.
Searching for pip
Best match: pip 22.0.4
Adding pip 22.0.4 to easy-install.pth file
Installing pip script to /usr/local/bin
Installing pip3 script to /usr/local/bin
Installing pip3.9 script to /usr/local/bin

Using /usr/local/lib/python3.7/dist-packages
Processing dependencies for pip
Finished processing dependencies for pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (22.0.4)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

#### Checking python 3 virtualenv
#### Virtualenv already exists, skipping creation

#### Updating pip
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (22.0.4)

#### Installing pip requirements
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./env/lib/python3.7/site-packages (22.0.4)
Requirement already satisfied: setuptools in ./env/lib/python3.7/site-packages (56.0.0)
Collecting setuptools
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-61.2.0-py3-none-any.whl (1.1 MB)
Installing collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 56.0.0
    Uninstalling setuptools-56.0.0:
      Successfully uninstalled setuptools-56.0.0
Successfully installed setuptools-61.2.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: alembic==1.5.8 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.5.8)
Collecting argparse==1.4.0
  Using cached https://www.piwheels.org/simple/argparse/argparse-1.4.0-py2.py3-none-any.whl (23 kB)
Requirement already satisfied: bcrypt==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 4)) (3.2.0)
Requirement already satisfied: daemonize==2.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 5)) (2.5.0)
Requirement already satisfied: distro==1.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 6)) (1.5.0)
Requirement already satisfied: email_validator==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 7)) (1.1.2)
Requirement already satisfied: filelock==3.0.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 8)) (3.0.12)
Requirement already satisfied: Flask==1.1.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 9)) (1.1.2)
Requirement already satisfied: Flask_Accept==0.0.6 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 10)) (0.0.6)
Requirement already satisfied: Flask_Babel==2.0.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.0.0)
Requirement already satisfied: Flask_Compress==1.9.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.9.0)
Requirement already satisfied: Flask_Limiter==1.4 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 13)) (1.4)
Requirement already satisfied: Flask_Login==0.5.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 14)) (0.5.0)
Requirement already satisfied: Flask_Marshmallow==0.14.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 15)) (0.14.0)
Requirement already satisfied: Flask_RESTX==0.3.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.3.0)
Requirement already satisfied: Flask_Session==0.4.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.4.0)
Requirement already satisfied: Flask_SQLAlchemy==2.5.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 19)) (2.5.1)
Requirement already satisfied: Flask_Talisman==0.7.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 20)) (0.7.0)
Requirement already satisfied: Flask_WTF==0.14.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 21)) (0.14.3)
Requirement already satisfied: geocoder==1.38.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 22)) (1.38.1)
Requirement already satisfied: gunicorn==20.1.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 23)) (20.1.0)
Requirement already satisfied: influxdb==5.3.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 24)) (5.3.1)
Requirement already satisfied: marshmallow_sqlalchemy==0.24.2 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 25)) (0.24.2)
Requirement already satisfied: pyro5==5.12 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 26)) (5.12)
Requirement already satisfied: pyserial==3.5 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 27)) (3.5)
Requirement already satisfied: python-dateutil==2.8.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 28)) (2.8.1)
Requirement already satisfied: requests==2.25.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 29)) (2.25.1)
Collecting setuptools==56.0.0
  Using cached https://www.piwheels.org/simple/setuptools/setuptools-56.0.0-py3-none-any.whl (784 kB)
Requirement already satisfied: SQLAlchemy==1.4.7 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.4.7)
Requirement already satisfied: Werkzeug==1.0.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 32)) (1.0.1)
Requirement already satisfied: WTForms==2.3.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.3.3)
Requirement already satisfied: python-editor>=0.3 in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.0.4)
Requirement already satisfied: Mako in ./env/lib/python3.7/site-packages (from alembic==1.5.8->-r /home/pi/Mycodo/install/requirements.txt (line 2)) (1.2.0)
Requirement already satisfied: cffi>=1.1 in ./env/lib/python3.7/site-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.15.0)
Requirement already satisfied: six>=1.4.1 in /usr/lib/python3/dist-packages (from bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (1.12.0)
Requirement already satisfied: idna>=2.0.0 in /usr/lib/python3/dist-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.6)
Requirement already satisfied: dnspython>=1.15.0 in ./env/lib/python3.7/site-packages (from email_validator==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 7)) (2.2.1)
Requirement already satisfied: Jinja2>=2.10.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (3.0.3)
Requirement already satisfied: click>=5.1 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (8.1.0)
Requirement already satisfied: itsdangerous>=0.24 in ./env/lib/python3.7/site-packages (from Flask==1.1.2->-r /home/pi/Mycodo/install/requirements.txt (line 9)) (2.0.1)
Requirement already satisfied: pytz in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2022.1)
Requirement already satisfied: Babel>=2.3 in ./env/lib/python3.7/site-packages (from Flask_Babel==2.0.0->-r /home/pi/Mycodo/install/requirements.txt (line 11)) (2.9.1)
Requirement already satisfied: brotli in ./env/lib/python3.7/site-packages (from Flask_Compress==1.9.0->-r /home/pi/Mycodo/install/requirements.txt (line 12)) (1.0.9)
Requirement already satisfied: limits in ./env/lib/python3.7/site-packages (from Flask_Limiter==1.4->-r /home/pi/Mycodo/install/requirements.txt (line 13)) (2.4.0)
Requirement already satisfied: marshmallow>=2.0.0 in ./env/lib/python3.7/site-packages (from Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.15.0)
Requirement already satisfied: aniso8601>=0.82 in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (9.0.1)
Requirement already satisfied: jsonschema in ./env/lib/python3.7/site-packages (from Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (4.4.0)
Requirement already satisfied: cachelib in ./env/lib/python3.7/site-packages (from Flask_Session==0.4.0->-r /home/pi/Mycodo/install/requirements.txt (line 18)) (0.6.0)
Requirement already satisfied: ratelim in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.1.6)
Requirement already satisfied: future in ./env/lib/python3.7/site-packages (from geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (0.18.2)
Requirement already satisfied: msgpack in ./env/lib/python3.7/site-packages (from influxdb==5.3.1->-r /home/pi/Mycodo/install/requirements.txt (line 24)) (1.0.3)
Requirement already satisfied: serpent>=1.27 in ./env/lib/python3.7/site-packages (from pyro5==5.12->-r /home/pi/Mycodo/install/requirements.txt (line 26)) (1.40)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (2018.8.24)
Requirement already satisfied: chardet<5,>=3.0.2 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (3.0.4)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/lib/python3/dist-packages (from requests==2.25.1->-r /home/pi/Mycodo/install/requirements.txt (line 29)) (1.24.1)
Requirement already satisfied: greenlet!=0.4.17 in ./env/lib/python3.7/site-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (1.1.2)
Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.7/dist-packages (from SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.11.3)
Requirement already satisfied: MarkupSafe in ./env/lib/python3.7/site-packages (from WTForms==2.3.3->-r /home/pi/Mycodo/install/requirements.txt (line 33)) (2.1.1)
Requirement already satisfied: pycparser in ./env/lib/python3.7/site-packages (from cffi>=1.1->bcrypt==3.2.0->-r /home/pi/Mycodo/install/requirements.txt (line 4)) (2.21)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from marshmallow>=2.0.0->Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (21.3)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (3.7.0)
Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata->SQLAlchemy==1.4.7->-r /home/pi/Mycodo/install/requirements.txt (line 31)) (4.1.1)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (0.18.1)
Requirement already satisfied: importlib-resources>=1.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (5.6.0)
Requirement already satisfied: attrs>=17.4.0 in ./env/lib/python3.7/site-packages (from jsonschema->Flask_RESTX==0.3.0->-r /home/pi/Mycodo/install/requirements.txt (line 17)) (21.4.0)
Requirement already satisfied: decorator in ./env/lib/python3.7/site-packages (from ratelim->geocoder==1.38.1->-r /home/pi/Mycodo/install/requirements.txt (line 22)) (5.1.1)
Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->marshmallow>=2.0.0->Flask_Marshmallow==0.14.0->-r /home/pi/Mycodo/install/requirements.txt (line 15)) (3.0.7)
Installing collected packages: argparse, setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 61.2.0
    Uninstalling setuptools-61.2.0:
      Successfully uninstalled setuptools-61.2.0
Successfully installed argparse-1.4.0 setuptools-56.0.0
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pylibftdi==0.19.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 2)) (0.19.0)
Requirement already satisfied: RPi.GPIO in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 3)) (0.7.1)
Requirement already satisfied: smbus2==0.4.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-rpi.txt (line 4)) (0.4.1)
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: testfixtures==6.17.1 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 2)) (6.17.1)
Requirement already satisfied: mock==4.0.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 3)) (4.0.3)
Requirement already satisfied: pytest==6.2.3 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (6.2.3)
Requirement already satisfied: factory_boy==3.2.0 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (3.2.0)
Requirement already satisfied: webtest==2.0.35 in ./env/lib/python3.7/site-packages (from -r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.0.35)
Requirement already satisfied: attrs>=19.2.0 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.4.0)
Requirement already satisfied: packaging in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (21.3)
Requirement already satisfied: py>=1.8.2 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.11.0)
Requirement already satisfied: iniconfig in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (1.1.1)
Requirement already satisfied: pluggy<1.0.0a1,>=0.12 in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.13.1)
Requirement already satisfied: toml in ./env/lib/python3.7/site-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (0.10.2)
Requirement already satisfied: importlib-metadata>=0.12 in /usr/local/lib/python3.7/dist-packages (from pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (4.11.3)
Requirement already satisfied: Faker>=0.7.0 in ./env/lib/python3.7/site-packages (from factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (13.3.4)
Requirement already satisfied: waitress>=0.8.5 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (2.1.1)
Requirement already satisfied: WebOb>=1.2 in ./env/lib/python3.7/site-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.8.7)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (1.12.0)
Requirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from webtest==2.0.35->-r /home/pi/Mycodo/install/requirements-testing.txt (line 6)) (4.7.1)
Requirement already satisfied: typing-extensions>=3.10.0.2 in /usr/local/lib/python3.7/dist-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (4.1.1)
Requirement already satisfied: python-dateutil>=2.4 in ./env/lib/python3.7/site-packages (from Faker>=0.7.0->factory_boy==3.2.0->-r /home/pi/Mycodo/install/requirements-testing.txt (line 5)) (2.8.1)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.7/dist-packages (from importlib-metadata>=0.12->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.7.0)
Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./env/lib/python3.7/site-packages (from packaging->pytest==6.2.3->-r /home/pi/Mycodo/install/requirements-testing.txt (line 4)) (3.0.7)
--2022-03-28 21:51:59--  https://project-downloads.drogon.net/wiringpi-latest.deb
Resolving project-downloads.drogon.net (project-downloads.drogon.net)... 188.246.205.22, 2a03:9800:10:7b::2
Connecting to project-downloads.drogon.net (project-downloads.drogon.net)|188.246.205.22|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 52260 (51K) [application/x-debian-package]
Saving to: ‘wiringpi-latest.deb’

     0K .......... .......... .......... .......... .......... 97%  130K 0s
    50K .                                                     100% 1974G=0.4s

2022-03-28 21:52:01 (133 KB/s) - ‘wiringpi-latest.deb’ saved [52260/52260]

(Reading database ... 98349 files and directories currently installed.)
Preparing to unpack wiringpi-latest.deb ...
Unpacking wiringpi (2.52) over (2.52) ...
Setting up wiringpi (2.52) ...
Processing triggers for man-db (2.8.5-2) ...

#### Ensuring compatible version of influxdb is installed ####
Correct version of InfluxDB currently installed

#### Creating InfluxDB database and user
#### Attempting to connect...
#### Influxdb database and user successfully created

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing logrotate scripts
Mycodo logrotate script installed

#### Generating SSL certificates at /home/pi/Mycodo/mycodo/mycodo_flask/ssl_certs (replace with your own if desired)
Generating RSA private key, 4096 bit long modulus (2 primes)
.................................................................++++
..............................................................++++
e is 65537 (0x010001)
writing RSA key
Signature ok
subject=O = mycodo, OU = mycodo, CN = mycodo
Getting Private key

#### Disabling installed mycodo startup script
Removed /etc/systemd/system/multi-user.target.wants/mycodo.service.
Removed /etc/systemd/system/mycodo.service.
#### Enabling current mycodo startup script
Created symlink /etc/systemd/system/mycodo.service → /home/pi/Mycodo/install/mycodo.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mycodo.service → /home/pi/Mycodo/install/mycodo.service.

#### Compiling Translations
compiling catalog mycodo_flask/translations/nl/LC_MESSAGES/messages.po to mycodo_flask/translations/nl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pl/LC_MESSAGES/messages.po to mycodo_flask/translations/pl/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/fr/LC_MESSAGES/messages.po to mycodo_flask/translations/fr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/de/LC_MESSAGES/messages.po to mycodo_flask/translations/de/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/zh/LC_MESSAGES/messages.po to mycodo_flask/translations/zh/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sr/LC_MESSAGES/messages.po to mycodo_flask/translations/sr/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/ru/LC_MESSAGES/messages.po to mycodo_flask/translations/ru/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/nb/LC_MESSAGES/messages.po to mycodo_flask/translations/nb/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/sv/LC_MESSAGES/messages.po to mycodo_flask/translations/sv/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/pt/LC_MESSAGES/messages.po to mycodo_flask/translations/pt/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/es/LC_MESSAGES/messages.po to mycodo_flask/translations/es/LC_MESSAGES/messages.mo
compiling catalog mycodo_flask/translations/it/LC_MESSAGES/messages.po to mycodo_flask/translations/it/LC_MESSAGES/messages.mo

#### Generating widget HTML files

#### Running initialization

#### Creating mycodo user
useradd: user 'mycodo' already exists
The user `mycodo' is already a member of `adm'.
The user `mycodo' is already a member of `dialout'.
The user `mycodo' is already a member of `gpio'.
The user `mycodo' is already a member of `i2c'.
The user `mycodo' is already a member of `kmem'.
The user `mycodo' is already a member of `video'.
The user `pi' is already a member of `mycodo'.
The user `mycodo' is already a member of `pi'.

#### Compiling mycodo_wrapper

#### Creating symlinks to Mycodo executables

#### Creating files and directories

#### Setting permissions

#### Installing and configuring nginx web server
Removed /etc/systemd/system/mycodoflask.service.
Removed /etc/systemd/system/multi-user.target.wants/mycodoflask.service.
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Created symlink /etc/systemd/system/multi-user.target.wants/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.
Created symlink /etc/systemd/system/mycodoflask.service → /home/pi/Mycodo/install/mycodoflask.service.

#### Restarting nginx
#### Restarting mycodoflask

#### Connecting to http://localhost (creates Mycodo database if it doesn't exist)
#### Could not connect to http://localhost. Waiting 60 seconds then trying again (up to 5 times)...
#### Trying again...
#### Successfully connected to http://localhost

#### Setting permissions

#### Restarting the Mycodo daemon
#### Mycodo Installer finished Mon 28 Mar 21:54:21 BST 2022
#### Total install time: 4 minutes and 27 seconds

*********************************
** Mycodo finished installing! **
*********************************

Although the install finished, it doesn't necessarily mean it installed correctly.
If you experience issues, review the full install log is located at:
/home/pi/Mycodo/install/setup.log

Go to https://192.168.8.171/, or whatever your Raspberry Pi's
IP address is, to create an admin user and log in.
### Mycodo installation initiated Sun 24 Apr 22:26:38 BST 2022
Mycodo install canceled by user